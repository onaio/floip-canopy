<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<template encoding-version="1.2">
    <description></description>
    <groupId>e00a3956-016b-1000-759b-91d04f993a13</groupId>
    <name>flow_results</name>
    <snippet>
        <controllerServices>
            <id>6df3e2ab-8155-3eb9-0000-000000000000</id>
            <parentGroupId>1f999f19-6aaf-3df9-0000-000000000000</parentGroupId>
            <bundle>
                <artifact>nifi-dbcp-service-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.9.2</version>
            </bundle>
            <comments></comments>
            <descriptors>
                <entry>
                    <key>Database Connection URL</key>
                    <value>
                        <name>Database Connection URL</name>
                    </value>
                </entry>
                <entry>
                    <key>Database Driver Class Name</key>
                    <value>
                        <name>Database Driver Class Name</name>
                    </value>
                </entry>
                <entry>
                    <key>database-driver-locations</key>
                    <value>
                        <name>database-driver-locations</name>
                    </value>
                </entry>
                <entry>
                    <key>kerberos-credentials-service</key>
                    <value>
                        <identifiesControllerService>org.apache.nifi.kerberos.KerberosCredentialsService</identifiesControllerService>
                        <name>kerberos-credentials-service</name>
                    </value>
                </entry>
                <entry>
                    <key>Database User</key>
                    <value>
                        <name>Database User</name>
                    </value>
                </entry>
                <entry>
                    <key>Password</key>
                    <value>
                        <name>Password</name>
                    </value>
                </entry>
                <entry>
                    <key>Max Wait Time</key>
                    <value>
                        <name>Max Wait Time</name>
                    </value>
                </entry>
                <entry>
                    <key>Max Total Connections</key>
                    <value>
                        <name>Max Total Connections</name>
                    </value>
                </entry>
                <entry>
                    <key>Validation-query</key>
                    <value>
                        <name>Validation-query</name>
                    </value>
                </entry>
                <entry>
                    <key>dbcp-min-idle-conns</key>
                    <value>
                        <name>dbcp-min-idle-conns</name>
                    </value>
                </entry>
                <entry>
                    <key>dbcp-max-idle-conns</key>
                    <value>
                        <name>dbcp-max-idle-conns</name>
                    </value>
                </entry>
                <entry>
                    <key>dbcp-max-conn-lifetime</key>
                    <value>
                        <name>dbcp-max-conn-lifetime</name>
                    </value>
                </entry>
                <entry>
                    <key>dbcp-time-between-eviction-runs</key>
                    <value>
                        <name>dbcp-time-between-eviction-runs</name>
                    </value>
                </entry>
                <entry>
                    <key>dbcp-min-evictable-idle-time</key>
                    <value>
                        <name>dbcp-min-evictable-idle-time</name>
                    </value>
                </entry>
                <entry>
                    <key>dbcp-soft-min-evictable-idle-time</key>
                    <value>
                        <name>dbcp-soft-min-evictable-idle-time</name>
                    </value>
                </entry>
            </descriptors>
            <name>DBCPConnectionPool</name>
            <persistsState>false</persistsState>
            <properties>
                <entry>
                    <key>Database Connection URL</key>
                    <value>jdbc:postgresql://db:5432/flow_results</value>
                </entry>
                <entry>
                    <key>Database Driver Class Name</key>
                    <value>org.postgresql.Driver</value>
                </entry>
                <entry>
                    <key>database-driver-locations</key>
                </entry>
                <entry>
                    <key>kerberos-credentials-service</key>
                </entry>
                <entry>
                    <key>Database User</key>
                    <value>admin</value>
                </entry>
                <entry>
                    <key>Password</key>
                </entry>
                <entry>
                    <key>Max Wait Time</key>
                    <value>500 millis</value>
                </entry>
                <entry>
                    <key>Max Total Connections</key>
                    <value>8</value>
                </entry>
                <entry>
                    <key>Validation-query</key>
                </entry>
                <entry>
                    <key>dbcp-min-idle-conns</key>
                    <value>0</value>
                </entry>
                <entry>
                    <key>dbcp-max-idle-conns</key>
                    <value>8</value>
                </entry>
                <entry>
                    <key>dbcp-max-conn-lifetime</key>
                    <value>-1</value>
                </entry>
                <entry>
                    <key>dbcp-time-between-eviction-runs</key>
                    <value>-1</value>
                </entry>
                <entry>
                    <key>dbcp-min-evictable-idle-time</key>
                    <value>30 mins</value>
                </entry>
                <entry>
                    <key>dbcp-soft-min-evictable-idle-time</key>
                    <value>-1</value>
                </entry>
            </properties>
            <state>ENABLED</state>
            <type>org.apache.nifi.dbcp.DBCPConnectionPool</type>
        </controllerServices>
        <processGroups>
            <id>4c57f893-8050-34bd-0000-000000000000</id>
            <parentGroupId>1f999f19-6aaf-3df9-0000-000000000000</parentGroupId>
            <position>
                <x>0.0</x>
                <y>0.0</y>
            </position>
            <comments></comments>
            <contents>
                <connections>
                    <id>1814e3e5-e4f6-35f8-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>4c57f893-8050-34bd-0000-000000000000</groupId>
                        <id>7d9af1e4-99dd-31f0-0000-000000000000</id>
                        <type>PROCESSOR</type>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>matched</selectedRelationships>
                    <source>
                        <groupId>4c57f893-8050-34bd-0000-000000000000</groupId>
                        <id>edfcb762-9b0f-3294-0000-000000000000</id>
                        <type>PROCESSOR</type>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>1b580a73-9afa-3ac6-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>4c57f893-8050-34bd-0000-000000000000</groupId>
                        <id>c60afea7-1391-3763-0000-000000000000</id>
                        <type>PROCESSOR</type>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>4c57f893-8050-34bd-0000-000000000000</groupId>
                        <id>52b5811c-9027-390d-0000-000000000000</id>
                        <type>PROCESSOR</type>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>208a6f58-5eaa-35af-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>4c57f893-8050-34bd-0000-000000000000</groupId>
                        <id>724c96e4-0a35-3487-0000-000000000000</id>
                        <type>PROCESSOR</type>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>sql</selectedRelationships>
                    <source>
                        <groupId>4c57f893-8050-34bd-0000-000000000000</groupId>
                        <id>c60afea7-1391-3763-0000-000000000000</id>
                        <type>PROCESSOR</type>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>3656ec23-34c6-3d96-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>4c57f893-8050-34bd-0000-000000000000</groupId>
                        <id>00d66e39-264f-3da9-0000-000000000000</id>
                        <type>PROCESSOR</type>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>4c57f893-8050-34bd-0000-000000000000</groupId>
                        <id>3360d449-cd9d-34a1-0000-000000000000</id>
                        <type>PROCESSOR</type>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>36b56e30-e560-3cf6-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>4c57f893-8050-34bd-0000-000000000000</groupId>
                        <id>098c1365-e13a-3b76-0000-000000000000</id>
                        <type>PROCESSOR</type>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>4c57f893-8050-34bd-0000-000000000000</groupId>
                        <id>08eb3e21-882e-37f4-0000-000000000000</id>
                        <type>PROCESSOR</type>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>36e8e320-1a1a-3dbd-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>4c57f893-8050-34bd-0000-000000000000</groupId>
                        <id>20de9079-f108-3149-0000-000000000000</id>
                        <type>PROCESSOR</type>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <source>
                        <groupId>89fba7f1-10e6-3964-0000-000000000000</groupId>
                        <id>558ba015-62b2-3a25-0000-000000000000</id>
                        <type>OUTPUT_PORT</type>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>394d4fd1-aa8d-3ced-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>4c57f893-8050-34bd-0000-000000000000</groupId>
                        <id>098c1365-e13a-3b76-0000-000000000000</id>
                        <type>PROCESSOR</type>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <source>
                        <groupId>24056fb5-78e4-3baf-0000-000000000000</groupId>
                        <id>a9996f8b-b81a-3a26-0000-000000000000</id>
                        <type>OUTPUT_PORT</type>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>5690732f-bfc1-3b60-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>4c57f893-8050-34bd-0000-000000000000</groupId>
                        <id>52b5811c-9027-390d-0000-000000000000</id>
                        <type>PROCESSOR</type>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>split</selectedRelationships>
                    <source>
                        <groupId>4c57f893-8050-34bd-0000-000000000000</groupId>
                        <id>b26ddbfc-0ac1-3fdb-0000-000000000000</id>
                        <type>PROCESSOR</type>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>743d571f-c16a-3327-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>4c57f893-8050-34bd-0000-000000000000</groupId>
                        <id>b26ddbfc-0ac1-3fdb-0000-000000000000</id>
                        <type>PROCESSOR</type>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>4c57f893-8050-34bd-0000-000000000000</groupId>
                        <id>4ea656e1-b18c-3a60-0000-000000000000</id>
                        <type>PROCESSOR</type>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>82afb9bc-a49a-3dcb-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>4c57f893-8050-34bd-0000-000000000000</groupId>
                        <id>4ea656e1-b18c-3a60-0000-000000000000</id>
                        <type>PROCESSOR</type>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>4c57f893-8050-34bd-0000-000000000000</groupId>
                        <id>00d66e39-264f-3da9-0000-000000000000</id>
                        <type>PROCESSOR</type>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>8b373e5d-1aa9-3cc7-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>4c57f893-8050-34bd-0000-000000000000</groupId>
                        <id>08eb3e21-882e-37f4-0000-000000000000</id>
                        <type>PROCESSOR</type>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>json_feed</selectedRelationships>
                    <source>
                        <groupId>4c57f893-8050-34bd-0000-000000000000</groupId>
                        <id>583f3a67-5808-3005-0000-000000000000</id>
                        <type>PROCESSOR</type>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>8e766f49-f4a3-355e-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>89fba7f1-10e6-3964-0000-000000000000</groupId>
                        <id>54cae2cc-4bdf-33bc-0000-000000000000</id>
                        <type>INPUT_PORT</type>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>batch_pull</selectedRelationships>
                    <selectedRelationships>new_submissions</selectedRelationships>
                    <source>
                        <groupId>4c57f893-8050-34bd-0000-000000000000</groupId>
                        <id>7d9af1e4-99dd-31f0-0000-000000000000</id>
                        <type>PROCESSOR</type>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>92ba67af-c1d6-3486-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000000</backPressureObjectThreshold>
                    <destination>
                        <groupId>4c57f893-8050-34bd-0000-000000000000</groupId>
                        <id>edfcb762-9b0f-3294-0000-000000000000</id>
                        <type>PROCESSOR</type>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>split</selectedRelationships>
                    <source>
                        <groupId>4c57f893-8050-34bd-0000-000000000000</groupId>
                        <id>098c1365-e13a-3b76-0000-000000000000</id>
                        <type>PROCESSOR</type>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>98439dff-7877-39df-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>19c92d14-dd0f-3ec5-0000-000000000000</groupId>
                        <id>c34ce021-2087-3490-0000-000000000000</id>
                        <type>INPUT_PORT</type>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <source>
                        <groupId>888821f3-a31d-3e1b-0000-000000000000</groupId>
                        <id>40127139-ad8c-3ac0-0000-000000000000</id>
                        <type>OUTPUT_PORT</type>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>be60ba2d-f802-3420-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>24056fb5-78e4-3baf-0000-000000000000</groupId>
                        <id>6998593c-dbb7-3d7e-0000-000000000000</id>
                        <type>INPUT_PORT</type>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>form_uuid</selectedRelationships>
                    <source>
                        <groupId>4c57f893-8050-34bd-0000-000000000000</groupId>
                        <id>583f3a67-5808-3005-0000-000000000000</id>
                        <type>PROCESSOR</type>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>c2ba1bc7-11c6-3f4a-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>4c57f893-8050-34bd-0000-000000000000</groupId>
                        <id>583f3a67-5808-3005-0000-000000000000</id>
                        <type>PROCESSOR</type>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <source>
                        <groupId>19c92d14-dd0f-3ec5-0000-000000000000</groupId>
                        <id>26c5c29f-f122-385f-0000-000000000000</id>
                        <type>OUTPUT_PORT</type>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>f02e88cb-1877-3902-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>19c92d14-dd0f-3ec5-0000-000000000000</groupId>
                        <id>c34ce021-2087-3490-0000-000000000000</id>
                        <type>INPUT_PORT</type>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <source>
                        <groupId>f30b5c9a-d916-36bc-0000-000000000000</groupId>
                        <id>7b9c174c-41f4-3af7-0000-000000000000</id>
                        <type>OUTPUT_PORT</type>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>f053c4e6-f871-3004-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>4c57f893-8050-34bd-0000-000000000000</groupId>
                        <id>3360d449-cd9d-34a1-0000-000000000000</id>
                        <type>PROCESSOR</type>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>merged</selectedRelationships>
                    <source>
                        <groupId>4c57f893-8050-34bd-0000-000000000000</groupId>
                        <id>20de9079-f108-3149-0000-000000000000</id>
                        <type>PROCESSOR</type>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>f6245ae5-ebdf-3bdd-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <bends>
                        <x>1587.6280890625226</x>
                        <y>1696.4027185440063</y>
                    </bends>
                    <bends>
                        <x>1587.6280890625226</x>
                        <y>1746.4027185440063</y>
                    </bends>
                    <destination>
                        <groupId>4c57f893-8050-34bd-0000-000000000000</groupId>
                        <id>724c96e4-0a35-3487-0000-000000000000</id>
                        <type>PROCESSOR</type>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>retry</selectedRelationships>
                    <source>
                        <groupId>4c57f893-8050-34bd-0000-000000000000</groupId>
                        <id>724c96e4-0a35-3487-0000-000000000000</id>
                        <type>PROCESSOR</type>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <processGroups>
                    <id>19c92d14-dd0f-3ec5-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <position>
                        <x>475.69986640627246</x>
                        <y>177.32001972198486</y>
                    </position>
                    <comments></comments>
                    <contents>
                        <connections>
                            <id>251f691c-0fe5-3071-0000-000000000000</id>
                            <parentGroupId>19c92d14-dd0f-3ec5-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>19c92d14-dd0f-3ec5-0000-000000000000</groupId>
<id>fa85a1bc-2e18-3121-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>19c92d14-dd0f-3ec5-0000-000000000000</groupId>
<id>c34ce021-2087-3490-0000-000000000000</id>
<type>INPUT_PORT</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>37fac1c3-41a6-3dc2-0000-000000000000</id>
                            <parentGroupId>19c92d14-dd0f-3ec5-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>19c92d14-dd0f-3ec5-0000-000000000000</groupId>
<id>26c5c29f-f122-385f-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>19c92d14-dd0f-3ec5-0000-000000000000</groupId>
<id>6f44ad2e-94fd-3579-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>6b6a0126-1906-34ec-0000-000000000000</id>
                            <parentGroupId>19c92d14-dd0f-3ec5-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>19c92d14-dd0f-3ec5-0000-000000000000</groupId>
<id>75888a87-4a74-3717-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>19c92d14-dd0f-3ec5-0000-000000000000</groupId>
<id>fa85a1bc-2e18-3121-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>942bdb12-be2b-37ae-0000-000000000000</id>
                            <parentGroupId>19c92d14-dd0f-3ec5-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>19c92d14-dd0f-3ec5-0000-000000000000</groupId>
<id>06c55ed8-e9c5-33f2-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>19c92d14-dd0f-3ec5-0000-000000000000</groupId>
<id>98099d0a-ab2d-342e-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>9880a987-8c2f-3104-0000-000000000000</id>
                            <parentGroupId>19c92d14-dd0f-3ec5-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>19c92d14-dd0f-3ec5-0000-000000000000</groupId>
<id>98099d0a-ab2d-342e-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>merged</selectedRelationships>
                            <source>
<groupId>19c92d14-dd0f-3ec5-0000-000000000000</groupId>
<id>fbd12097-d815-38f0-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>a6c1b498-336d-3f69-0000-000000000000</id>
                            <parentGroupId>19c92d14-dd0f-3ec5-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>19c92d14-dd0f-3ec5-0000-000000000000</groupId>
<id>7c52a0be-ce1e-3336-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>table_exists</selectedRelationships>
                            <source>
<groupId>19c92d14-dd0f-3ec5-0000-000000000000</groupId>
<id>75888a87-4a74-3717-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>e193559f-31be-3328-0000-000000000000</id>
                            <parentGroupId>19c92d14-dd0f-3ec5-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>19c92d14-dd0f-3ec5-0000-000000000000</groupId>
<id>fbd12097-d815-38f0-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>19c92d14-dd0f-3ec5-0000-000000000000</groupId>
<id>e6b575df-d67b-3824-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>eac383ae-ea1b-3b14-0000-000000000000</id>
                            <parentGroupId>19c92d14-dd0f-3ec5-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>19c92d14-dd0f-3ec5-0000-000000000000</groupId>
<id>26c5c29f-f122-385f-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>matched</selectedRelationships>
                            <source>
<groupId>19c92d14-dd0f-3ec5-0000-000000000000</groupId>
<id>06c55ed8-e9c5-33f2-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>eb985062-0ab1-3129-0000-000000000000</id>
                            <parentGroupId>19c92d14-dd0f-3ec5-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>19c92d14-dd0f-3ec5-0000-000000000000</groupId>
<id>6b4af665-ae23-3a58-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>table_not_exist</selectedRelationships>
                            <source>
<groupId>19c92d14-dd0f-3ec5-0000-000000000000</groupId>
<id>75888a87-4a74-3717-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f007586f-7cd6-3d3e-0000-000000000000</id>
                            <parentGroupId>19c92d14-dd0f-3ec5-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>19c92d14-dd0f-3ec5-0000-000000000000</groupId>
<id>e6b575df-d67b-3824-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>19c92d14-dd0f-3ec5-0000-000000000000</groupId>
<id>7c52a0be-ce1e-3336-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>fc323144-8325-3b5c-0000-000000000000</id>
                            <parentGroupId>19c92d14-dd0f-3ec5-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>19c92d14-dd0f-3ec5-0000-000000000000</groupId>
<id>6f44ad2e-94fd-3579-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>19c92d14-dd0f-3ec5-0000-000000000000</groupId>
<id>6b4af665-ae23-3a58-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <inputPorts>
                            <id>c34ce021-2087-3490-0000-000000000000</id>
                            <parentGroupId>19c92d14-dd0f-3ec5-0000-000000000000</parentGroupId>
                            <position>
<x>1562.339574034324</x>
<y>-318.2072078302568</y>
                            </position>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>Check if Table exists</name>
                            <state>STOPPED</state>
                            <type>INPUT_PORT</type>
                        </inputPorts>
                        <outputPorts>
                            <id>26c5c29f-f122-385f-0000-000000000000</id>
                            <parentGroupId>19c92d14-dd0f-3ec5-0000-000000000000</parentGroupId>
                            <position>
<x>1590.1565906358865</x>
<y>680.7274124069742</y>
                            </position>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>Table exist or created</name>
                            <state>STOPPED</state>
                            <type>OUTPUT_PORT</type>
                        </outputPorts>
                        <processors>
                            <id>06c55ed8-e9c5-33f2-0000-000000000000</id>
                            <parentGroupId>19c92d14-dd0f-3ec5-0000-000000000000</parentGroupId>
                            <position>
<x>2127.64941902498</x>
<y>641.3369302820748</y>
                            </position>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.9.2</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Destination</key>
        <value>
            <name>Destination</name>
        </value>
    </entry>
    <entry>
        <key>Return Type</key>
        <value>
            <name>Return Type</name>
        </value>
    </entry>
    <entry>
        <key>Path Not Found Behavior</key>
        <value>
            <name>Path Not Found Behavior</name>
        </value>
    </entry>
    <entry>
        <key>Null Value Representation</key>
        <value>
            <name>Null Value Representation</name>
        </value>
    </entry>
    <entry>
        <key>geopoints</key>
        <value>
            <name>geopoints</name>
        </value>
    </entry>
    <entry>
        <key>long_field_names_map</key>
        <value>
            <name>long_field_names_map</name>
        </value>
    </entry>
    <entry>
        <key>max_submission_time</key>
        <value>
            <name>max_submission_time</name>
        </value>
    </entry>
    <entry>
        <key>table_name</key>
        <value>
            <name>table_name</name>
        </value>
    </entry>
    <entry>
        <key>token</key>
        <value>
            <name>token</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Destination</key>
        <value>flowfile-attribute</value>
    </entry>
    <entry>
        <key>Return Type</key>
        <value>auto-detect</value>
    </entry>
    <entry>
        <key>Path Not Found Behavior</key>
        <value>ignore</value>
    </entry>
    <entry>
        <key>Null Value Representation</key>
        <value>empty string</value>
    </entry>
    <entry>
        <key>geopoints</key>
        <value>$.geotypes</value>
    </entry>
    <entry>
        <key>long_field_names_map</key>
        <value>$.long_field_names_map</value>
    </entry>
    <entry>
        <key>max_submission_time</key>
        <value>$.max</value>
    </entry>
    <entry>
        <key>table_name</key>
        <value>$.table_name</value>
    </entry>
    <entry>
        <key>token</key>
        <value>$.token</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Set package metadata and MAX submission timestamp as attributes</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>matched</name>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>unmatched</name>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.EvaluateJsonPath</type>
                        </processors>
                        <processors>
                            <id>6b4af665-ae23-3a58-0000-000000000000</id>
                            <parentGroupId>19c92d14-dd0f-3ec5-0000-000000000000</parentGroupId>
                            <position>
<x>1533.5288135689134</x>
<y>40.3518839856589</y>
                            </position>
                            <bundle>
<artifact>nifi-scripting-nar</artifact>
<group>org.apache.nifi</group>
<version>1.9.2</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Script Engine</key>
        <value>
            <name>Script Engine</name>
        </value>
    </entry>
    <entry>
        <key>Script File</key>
        <value>
            <name>Script File</name>
        </value>
    </entry>
    <entry>
        <key>Script Body</key>
        <value>
            <name>Script Body</name>
        </value>
    </entry>
    <entry>
        <key>Module Directory</key>
        <value>
            <name>Module Directory</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Script Engine</key>
        <value>python</value>
    </entry>
    <entry>
        <key>Script File</key>
    </entry>
    <entry>
        <key>Script Body</key>
        <value>"""
Generates a postgres table schema from flow results
"""

import json
import uuid
import re

JYTHON_AVAILABLE = True

try:
    # This is used in the NiFi ExecuteScript context
    import java.io  # pylint: disable=unused-import
    from org.apache.commons.io import IOUtils
    from java.nio.charset import StandardCharsets
    from org.apache.nifi.processor.io import StreamCallback
except ImportError:
    JYTHON_AVAILABLE = False
    print "Skipping Jython imports"


# Maximum identifier length supported in postgres
POSTGRES_MAX_IDENTIFIER_LENGTH = 63

# Geotypes appended words are '_altitude' and '_accuracy' of length 9
GEOTYPES_APPEND_WORD_LENGTH = 9

# Using a seed will allow UUID to be reproducible even in fail cases
FAIL_CASE_SEED = "i0em6a4qn"

# Accommodates the random string (_XXXX_) to be added to field_name
RANDOM_STRING_LENGTH = 6

# Mapping between FLOIP schema datatypes to corresponding sql datatypes
DATATYPE_MAPPING = {
    "date": "DATE",
    "time": "TIME",
    "datetime": "TIMESTAMP",
    "decimal": "DOUBLE PRECISION",
    "integer": "INTEGER",
    "select_one": "VARCHAR",
    "select_many": "VARCHAR",
    "open": "VARCHAR",
    "numeric": "DOUBLE PRECISION",
    "text": "VARCHAR",
    "calculate": "VARCHAR"
}


def remove_special_characters(name):
    """
    Function replaces special characters with an underscore.
    """

    name = re.sub(r"[-\\\(\),\.:;'\[\]\?\/\|{}\?&gt;&lt;!@#\$%\^&amp;\*\+ ]", '_', name)
    return name


def random_string_generator(field_name, retry_counter):
    """
    Function returns a random string with field_name as the seed.
    Incase the random string generated isn't unique, the seed used is a 
    predefined string called FAIL_CASE_SEED. This string is concatenated 
    to itself based on the number of retries. It is important to use a seed,
    so that the same random string can be reproduced.
    """

    if retry_counter == 0:
        random_string = str(uuid.uuid5(uuid.NAMESPACE_DNS,
                                       field_name.encode('utf-8')))
    else:
        new_fail_case_seed = FAIL_CASE_SEED * retry_counter
        random_string = str(uuid.uuid5(uuid.NAMESPACE_DNS,
                                       new_fail_case_seed.encode('utf-8')))
    return random_string[0:4]


def check_long_name(field_name, long_to_truncated_name_map,
                    appended_word_length=0):
    """Function shortens field_names longer than 63 characters"""
    retry_counter = 0
    find_shortened_field_name = True
    field_name_length = len(field_name)
    if (field_name_length + appended_word_length) &lt;= \
        POSTGRES_MAX_IDENTIFIER_LENGTH:
        return field_name, long_to_truncated_name_map
    else:
        truncation_length = field_name_length + appended_word_length \
                            + RANDOM_STRING_LENGTH\
                            - POSTGRES_MAX_IDENTIFIER_LENGTH
        random_string = random_string_generator(field_name, retry_counter)
        half_field_name_length = field_name_length // 2
        half_truncation_length = (truncation_length + 1) // 2

        while find_shortened_field_name:
            random_string = random_string_generator(field_name, retry_counter)
            shortened_field_name = "{a}_{b}_{c}".format(
                a = field_name[0:(half_field_name_length
                                  - half_truncation_length)],
                b = random_string,
                c = field_name[(half_field_name_length
                                + half_truncation_length):])
            if shortened_field_name not in long_to_truncated_name_map.values():
                find_shortened_field_name = False
            else:
                retry_counter += 1

        long_to_truncated_name_map[field_name] = shortened_field_name
    return shortened_field_name, long_to_truncated_name_map

def geopoint_field_to_type_string(field_name, long_to_truncated_name_map):
    """
    A geopoint has latitude, longitude, altitude and accuracy values.
    The column_name_type_string generated has a column_name and column_type
    for each of these.
    """

    processed_name, truncated_name_map = check_long_name(
        field_name, long_to_truncated_name_map, GEOTYPES_APPEND_WORD_LENGTH)
    column_name_type_string = \
    "_{a}{b} {c},_{a}{d} {c},_{a}{e} {c},_{a}{f} {c}".format(
        a = processed_name, 
        b = "_latitude",
        c = "DOUBLE PRECISION",
        d = "_longitude",
        e = "_altitude",
        f = "_accuracy")
    return column_name_type_string, truncated_name_map


def generate_table_statement(flow_results_package,
                                                    table_name):
    """
    Parses floip schema to identify column names and types and generate
    create table statement
    """

    questions = flow_results_package["data"]["attributes"]["resources"]\
        [0]["schema"]["questions"]

    # Table name can be user defined or in the absence of this, gotten from
    # the title atribute in the FLOIP schema
    table_name = table_name or remove_special_characters(
        flow_results_package["data"]["attributes"]["title"])
    table_columns = ["submission_uuid VARCHAR"]
    long_to_truncated_names_map = {}
    geopoints = []

    for key, value in questions.iteritems():
        column_name = remove_special_characters(key)
        if value.get("type") == "geo_point":
            column_name_type_string, truncated_name_map \
                = geopoint_field_to_type_string(column_name,
                long_to_truncated_names_map)
            geopoints.append(
                long_to_truncated_names_map.get(column_name) or column_name)
            table_columns.append(column_name_type_string)
        else:
            processed_name, truncated_name_map = check_long_name(
                column_name, long_to_truncated_names_map)
            table_columns.append("{} {}".format(
                processed_name, 
                DATATYPE_MAPPING[value.get("type")] or "VARCHAR"))

        long_to_truncated_names_map.update(truncated_name_map)

    table_statement = "CREATE TABLE {}({});".format(table_name,
                                                    ",".join(table_columns))
    return table_statement, long_to_truncated_names_map, geopoints

if JYTHON_AVAILABLE:
    # pylint:disable=too-few-public-methods,invalid-name,undefined-variable
    class PyStreamCallback(StreamCallback):
        """
        Class to handle flowFile stream maninpulation.
        """

        def __init__(self):
            self.long_field_names_map = {}
            self.table_statement = ""
            self.geopoints = []

        def process(self, inputStream, outputStream):
            """
            Takes a flowfile as an input and outputs the transformed flowfile
            """
            self.table_statement, self.long_field_names_map, self.geopoints = \
                generate_table_statement(survey_json, table_name)

            outputStream.write(bytearray(
                json.dumps(self.table_statement, indent=4).encode('utf-8')))

    # session is provided by the NiFi ExecuteScript context
    flowFile = session.get()  # noqa
    if flowFile is not None:
        table_name = flowFile.getAttribute('table_name')
        survey_json = json.loads(flowFile.getAttribute('survey'))
        # try:
        #     survey_json = json.loads(flowFile.getAttribute('survey'))
        # except (ValueError, TypeError) as error:
        #     pass
        PROCESSED_DATA = PyStreamCallback()
        session.write(flowFile, PROCESSED_DATA)  # noqa
        ATTRMAP = {
            'table_statement': PROCESSED_DATA.table_statement,
            'geopoints': json.dumps(PROCESSED_DATA.geopoints),
            'long_field_names_map': json.dumps(
                PROCESSED_DATA.long_field_names_map)
        }
        flowFile = session.putAllAttributes(flowFile, ATTRMAP)  # noqa
        # # REL_SUCCESS is provided by the NiFi ExecuteScript context
        session.transfer(flowFile, REL_SUCCESS)  # noqa</value>
    </entry>
    <entry>
        <key>Module Directory</key>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Create table statement parser</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.script.ExecuteScript</type>
                        </processors>
                        <processors>
                            <id>6f44ad2e-94fd-3579-0000-000000000000</id>
                            <parentGroupId>19c92d14-dd0f-3ec5-0000-000000000000</parentGroupId>
                            <position>
<x>1536.058964936101</x>
<y>241.76096830572726</y>
                            </position>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.9.2</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Database Connection Pooling Service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.dbcp.DBCPService</identifiesControllerService>
            <name>Database Connection Pooling Service</name>
        </value>
    </entry>
    <entry>
        <key>sql-pre-query</key>
        <value>
            <name>sql-pre-query</name>
        </value>
    </entry>
    <entry>
        <key>SQL select query</key>
        <value>
            <name>SQL select query</name>
        </value>
    </entry>
    <entry>
        <key>sql-post-query</key>
        <value>
            <name>sql-post-query</name>
        </value>
    </entry>
    <entry>
        <key>Max Wait Time</key>
        <value>
            <name>Max Wait Time</name>
        </value>
    </entry>
    <entry>
        <key>dbf-normalize</key>
        <value>
            <name>dbf-normalize</name>
        </value>
    </entry>
    <entry>
        <key>dbf-user-logical-types</key>
        <value>
            <name>dbf-user-logical-types</name>
        </value>
    </entry>
    <entry>
        <key>compression-format</key>
        <value>
            <name>compression-format</name>
        </value>
    </entry>
    <entry>
        <key>dbf-default-precision</key>
        <value>
            <name>dbf-default-precision</name>
        </value>
    </entry>
    <entry>
        <key>dbf-default-scale</key>
        <value>
            <name>dbf-default-scale</name>
        </value>
    </entry>
    <entry>
        <key>esql-max-rows</key>
        <value>
            <name>esql-max-rows</name>
        </value>
    </entry>
    <entry>
        <key>esql-output-batch-size</key>
        <value>
            <name>esql-output-batch-size</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Database Connection Pooling Service</key>
        <value>6df3e2ab-8155-3eb9-0000-000000000000</value>
    </entry>
    <entry>
        <key>sql-pre-query</key>
        <value>CREATE TABLE raw_${table_name} (row_id VARCHAR, submission_id VARCHAR, submission_time TIMESTAMP, row_details JSONB);</value>
    </entry>
    <entry>
        <key>SQL select query</key>
        <value>${table_statement}</value>
    </entry>
    <entry>
        <key>sql-post-query</key>
        <value>INSERT INTO form_details(form_uuid, table_name, long_field_names_map, date_added, token, geotypes) VALUES('${form_uuid}', '${table_name}', '${long_field_names_map}', '${now():format('YYYY-MM-dd HH:mm:ss.SSS')}', '${token}', '${geopoints}');</value>
    </entry>
    <entry>
        <key>Max Wait Time</key>
        <value>0 seconds</value>
    </entry>
    <entry>
        <key>dbf-normalize</key>
        <value>false</value>
    </entry>
    <entry>
        <key>dbf-user-logical-types</key>
        <value>false</value>
    </entry>
    <entry>
        <key>compression-format</key>
        <value>NONE</value>
    </entry>
    <entry>
        <key>dbf-default-precision</key>
        <value>10</value>
    </entry>
    <entry>
        <key>dbf-default-scale</key>
        <value>0</value>
    </entry>
    <entry>
        <key>esql-max-rows</key>
        <value>0</value>
    </entry>
    <entry>
        <key>esql-output-batch-size</key>
        <value>0</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Create table for raw and flattened in Postgres and insert package metadata in form details table</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ExecuteSQL</type>
                        </processors>
                        <processors>
                            <id>75888a87-4a74-3717-0000-000000000000</id>
                            <parentGroupId>19c92d14-dd0f-3ec5-0000-000000000000</parentGroupId>
                            <position>
<x>1529.575265270238</x>
<y>-158.40904820566783</y>
                            </position>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.9.2</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>table_exists</key>
        <value>
            <name>table_exists</name>
        </value>
    </entry>
    <entry>
        <key>table_not_exist</key>
        <value>
            <name>table_not_exist</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to Property name</value>
    </entry>
    <entry>
        <key>table_exists</key>
        <value>${executesql.row.count:equals(1)}</value>
    </entry>
    <entry>
        <key>table_not_exist</key>
        <value>${executesql.row.count:equals(0)}</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Route on whether table exists or not</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>table_exists</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>table_not_exist</name>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>unmatched</name>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                        <processors>
                            <id>7c52a0be-ce1e-3336-0000-000000000000</id>
                            <parentGroupId>19c92d14-dd0f-3ec5-0000-000000000000</parentGroupId>
                            <position>
<x>2118.006657807195</x>
<y>-158.36946563515977</y>
                            </position>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.9.2</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Database Connection Pooling Service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.dbcp.DBCPService</identifiesControllerService>
            <name>Database Connection Pooling Service</name>
        </value>
    </entry>
    <entry>
        <key>sql-pre-query</key>
        <value>
            <name>sql-pre-query</name>
        </value>
    </entry>
    <entry>
        <key>SQL select query</key>
        <value>
            <name>SQL select query</name>
        </value>
    </entry>
    <entry>
        <key>sql-post-query</key>
        <value>
            <name>sql-post-query</name>
        </value>
    </entry>
    <entry>
        <key>Max Wait Time</key>
        <value>
            <name>Max Wait Time</name>
        </value>
    </entry>
    <entry>
        <key>dbf-normalize</key>
        <value>
            <name>dbf-normalize</name>
        </value>
    </entry>
    <entry>
        <key>dbf-user-logical-types</key>
        <value>
            <name>dbf-user-logical-types</name>
        </value>
    </entry>
    <entry>
        <key>compression-format</key>
        <value>
            <name>compression-format</name>
        </value>
    </entry>
    <entry>
        <key>dbf-default-precision</key>
        <value>
            <name>dbf-default-precision</name>
        </value>
    </entry>
    <entry>
        <key>dbf-default-scale</key>
        <value>
            <name>dbf-default-scale</name>
        </value>
    </entry>
    <entry>
        <key>esql-max-rows</key>
        <value>
            <name>esql-max-rows</name>
        </value>
    </entry>
    <entry>
        <key>esql-output-batch-size</key>
        <value>
            <name>esql-output-batch-size</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Database Connection Pooling Service</key>
        <value>6df3e2ab-8155-3eb9-0000-000000000000</value>
    </entry>
    <entry>
        <key>sql-pre-query</key>
    </entry>
    <entry>
        <key>SQL select query</key>
        <value>SELECT long_field_names_map, geotypes, table_name, token FROM form_details WHERE table_name = '${table_name}';
SELECT MAX(submission_time) FROM raw_${table_name};</value>
    </entry>
    <entry>
        <key>sql-post-query</key>
    </entry>
    <entry>
        <key>Max Wait Time</key>
        <value>0 seconds</value>
    </entry>
    <entry>
        <key>dbf-normalize</key>
        <value>false</value>
    </entry>
    <entry>
        <key>dbf-user-logical-types</key>
        <value>false</value>
    </entry>
    <entry>
        <key>compression-format</key>
        <value>NONE</value>
    </entry>
    <entry>
        <key>dbf-default-precision</key>
        <value>10</value>
    </entry>
    <entry>
        <key>dbf-default-scale</key>
        <value>0</value>
    </entry>
    <entry>
        <key>esql-max-rows</key>
        <value>0</value>
    </entry>
    <entry>
        <key>esql-output-batch-size</key>
        <value>0</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Get package metadata and MAX submission time</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ExecuteSQL</type>
                        </processors>
                        <processors>
                            <id>98099d0a-ab2d-342e-0000-000000000000</id>
                            <parentGroupId>19c92d14-dd0f-3ec5-0000-000000000000</parentGroupId>
                            <position>
<x>2118.730629855503</x>
<y>431.562233080372</y>
                            </position>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.9.2</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>jolt-transform</key>
        <value>
            <name>jolt-transform</name>
        </value>
    </entry>
    <entry>
        <key>jolt-custom-class</key>
        <value>
            <name>jolt-custom-class</name>
        </value>
    </entry>
    <entry>
        <key>jolt-custom-modules</key>
        <value>
            <name>jolt-custom-modules</name>
        </value>
    </entry>
    <entry>
        <key>jolt-spec</key>
        <value>
            <name>jolt-spec</name>
        </value>
    </entry>
    <entry>
        <key>Transform Cache Size</key>
        <value>
            <name>Transform Cache Size</name>
        </value>
    </entry>
    <entry>
        <key>pretty_print</key>
        <value>
            <name>pretty_print</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>jolt-transform</key>
        <value>jolt-transform-chain</value>
    </entry>
    <entry>
        <key>jolt-custom-class</key>
    </entry>
    <entry>
        <key>jolt-custom-modules</key>
    </entry>
    <entry>
        <key>jolt-spec</key>
        <value>[
  {
    "operation": "shift",
    "spec": {
      "*": {
        "long_field_names_map": "long_field_names_map",
        "geotypes": "geotypes",
        "table_name": "table_name",
        "token": "token",
        "max": "max"
      }
    }
  }
]
</value>
    </entry>
    <entry>
        <key>Transform Cache Size</key>
        <value>1</value>
    </entry>
    <entry>
        <key>pretty_print</key>
        <value>false</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Jolt transform merged JSON</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.JoltTransformJSON</type>
                        </processors>
                        <processors>
                            <id>e6b575df-d67b-3824-0000-000000000000</id>
                            <parentGroupId>19c92d14-dd0f-3ec5-0000-000000000000</parentGroupId>
                            <position>
<x>2114.62774545368</x>
<y>41.697886945864354</y>
                            </position>
                            <bundle>
<artifact>nifi-avro-nar</artifact>
<group>org.apache.nifi</group>
<version>1.9.2</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>JSON container options</key>
        <value>
            <name>JSON container options</name>
        </value>
    </entry>
    <entry>
        <key>Wrap Single Record</key>
        <value>
            <name>Wrap Single Record</name>
        </value>
    </entry>
    <entry>
        <key>Avro schema</key>
        <value>
            <name>Avro schema</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>JSON container options</key>
        <value>none</value>
    </entry>
    <entry>
        <key>Wrap Single Record</key>
        <value>true</value>
    </entry>
    <entry>
        <key>Avro schema</key>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>ConvertAvroToJSON</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.avro.ConvertAvroToJSON</type>
                        </processors>
                        <processors>
                            <id>fa85a1bc-2e18-3121-0000-000000000000</id>
                            <parentGroupId>19c92d14-dd0f-3ec5-0000-000000000000</parentGroupId>
                            <position>
<x>2116.3812401563664</x>
<y>-356.8005000665849</y>
                            </position>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.9.2</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments>Create form details table that holds metadata of all flow results ingested if it doesn't exist already.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Database Connection Pooling Service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.dbcp.DBCPService</identifiesControllerService>
            <name>Database Connection Pooling Service</name>
        </value>
    </entry>
    <entry>
        <key>sql-pre-query</key>
        <value>
            <name>sql-pre-query</name>
        </value>
    </entry>
    <entry>
        <key>SQL select query</key>
        <value>
            <name>SQL select query</name>
        </value>
    </entry>
    <entry>
        <key>sql-post-query</key>
        <value>
            <name>sql-post-query</name>
        </value>
    </entry>
    <entry>
        <key>Max Wait Time</key>
        <value>
            <name>Max Wait Time</name>
        </value>
    </entry>
    <entry>
        <key>dbf-normalize</key>
        <value>
            <name>dbf-normalize</name>
        </value>
    </entry>
    <entry>
        <key>dbf-user-logical-types</key>
        <value>
            <name>dbf-user-logical-types</name>
        </value>
    </entry>
    <entry>
        <key>compression-format</key>
        <value>
            <name>compression-format</name>
        </value>
    </entry>
    <entry>
        <key>dbf-default-precision</key>
        <value>
            <name>dbf-default-precision</name>
        </value>
    </entry>
    <entry>
        <key>dbf-default-scale</key>
        <value>
            <name>dbf-default-scale</name>
        </value>
    </entry>
    <entry>
        <key>esql-max-rows</key>
        <value>
            <name>esql-max-rows</name>
        </value>
    </entry>
    <entry>
        <key>esql-output-batch-size</key>
        <value>
            <name>esql-output-batch-size</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Database Connection Pooling Service</key>
        <value>6df3e2ab-8155-3eb9-0000-000000000000</value>
    </entry>
    <entry>
        <key>sql-pre-query</key>
        <value>CREATE TABLE IF NOT EXISTS form_details(form_uuid VARCHAR PRIMARY KEY, form_version VARCHAR, table_name VARCHAR, date_added TIMESTAMP, token VARCHAR, metadata_details JSONB, geotypes JSONB, long_field_names_map JSONB, fields_to_name_label_map JSONB);</value>
    </entry>
    <entry>
        <key>SQL select query</key>
        <value>SELECT * FROM form_details where table_name = '${table_name}';</value>
    </entry>
    <entry>
        <key>sql-post-query</key>
    </entry>
    <entry>
        <key>Max Wait Time</key>
        <value>0 seconds</value>
    </entry>
    <entry>
        <key>dbf-normalize</key>
        <value>false</value>
    </entry>
    <entry>
        <key>dbf-user-logical-types</key>
        <value>false</value>
    </entry>
    <entry>
        <key>compression-format</key>
        <value>NONE</value>
    </entry>
    <entry>
        <key>dbf-default-precision</key>
        <value>10</value>
    </entry>
    <entry>
        <key>dbf-default-scale</key>
        <value>0</value>
    </entry>
    <entry>
        <key>esql-max-rows</key>
        <value>0</value>
    </entry>
    <entry>
        <key>esql-output-batch-size</key>
        <value>0</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Check is table exists in form details table</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ExecuteSQL</type>
                        </processors>
                        <processors>
                            <id>fbd12097-d815-38f0-0000-000000000000</id>
                            <parentGroupId>19c92d14-dd0f-3ec5-0000-000000000000</parentGroupId>
                            <position>
<x>2119.2740652846237</x>
<y>237.21376810539755</y>
                            </position>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.9.2</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Merge Strategy</key>
        <value>
            <name>Merge Strategy</name>
        </value>
    </entry>
    <entry>
        <key>Merge Format</key>
        <value>
            <name>Merge Format</name>
        </value>
    </entry>
    <entry>
        <key>Attribute Strategy</key>
        <value>
            <name>Attribute Strategy</name>
        </value>
    </entry>
    <entry>
        <key>Correlation Attribute Name</key>
        <value>
            <name>Correlation Attribute Name</name>
        </value>
    </entry>
    <entry>
        <key>mergecontent-metadata-strategy</key>
        <value>
            <name>mergecontent-metadata-strategy</name>
        </value>
    </entry>
    <entry>
        <key>Minimum Number of Entries</key>
        <value>
            <name>Minimum Number of Entries</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Number of Entries</key>
        <value>
            <name>Maximum Number of Entries</name>
        </value>
    </entry>
    <entry>
        <key>Minimum Group Size</key>
        <value>
            <name>Minimum Group Size</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Group Size</key>
        <value>
            <name>Maximum Group Size</name>
        </value>
    </entry>
    <entry>
        <key>Max Bin Age</key>
        <value>
            <name>Max Bin Age</name>
        </value>
    </entry>
    <entry>
        <key>Maximum number of Bins</key>
        <value>
            <name>Maximum number of Bins</name>
        </value>
    </entry>
    <entry>
        <key>Delimiter Strategy</key>
        <value>
            <name>Delimiter Strategy</name>
        </value>
    </entry>
    <entry>
        <key>Header File</key>
        <value>
            <name>Header File</name>
        </value>
    </entry>
    <entry>
        <key>Footer File</key>
        <value>
            <name>Footer File</name>
        </value>
    </entry>
    <entry>
        <key>Demarcator File</key>
        <value>
            <name>Demarcator File</name>
        </value>
    </entry>
    <entry>
        <key>Compression Level</key>
        <value>
            <name>Compression Level</name>
        </value>
    </entry>
    <entry>
        <key>Keep Path</key>
        <value>
            <name>Keep Path</name>
        </value>
    </entry>
    <entry>
        <key>Tar Modified Time</key>
        <value>
            <name>Tar Modified Time</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Merge Strategy</key>
        <value>Bin-Packing Algorithm</value>
    </entry>
    <entry>
        <key>Merge Format</key>
        <value>Binary Concatenation</value>
    </entry>
    <entry>
        <key>Attribute Strategy</key>
        <value>Keep Only Common Attributes</value>
    </entry>
    <entry>
        <key>Correlation Attribute Name</key>
        <value>filename</value>
    </entry>
    <entry>
        <key>mergecontent-metadata-strategy</key>
        <value>Do Not Merge Uncommon Metadata</value>
    </entry>
    <entry>
        <key>Minimum Number of Entries</key>
        <value>1</value>
    </entry>
    <entry>
        <key>Maximum Number of Entries</key>
        <value>1000</value>
    </entry>
    <entry>
        <key>Minimum Group Size</key>
        <value>0 B</value>
    </entry>
    <entry>
        <key>Maximum Group Size</key>
    </entry>
    <entry>
        <key>Max Bin Age</key>
    </entry>
    <entry>
        <key>Maximum number of Bins</key>
        <value>5</value>
    </entry>
    <entry>
        <key>Delimiter Strategy</key>
        <value>Text</value>
    </entry>
    <entry>
        <key>Header File</key>
        <value>[</value>
    </entry>
    <entry>
        <key>Footer File</key>
        <value>]</value>
    </entry>
    <entry>
        <key>Demarcator File</key>
        <value>,</value>
    </entry>
    <entry>
        <key>Compression Level</key>
        <value>1</value>
    </entry>
    <entry>
        <key>Keep Path</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Tar Modified Time</key>
        <value>${file.lastModifiedTime}</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Merge package metadata and MAX submission date JSON</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>merged</name>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>original</name>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.MergeContent</type>
                        </processors>
                    </contents>
                    <name>Create table or get package metadata details</name>
                    <variables/>
                </processGroups>
                <processGroups>
                    <id>24056fb5-78e4-3baf-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <position>
                        <x>476.03104351622596</x>
                        <y>398.4506951453682</y>
                    </position>
                    <comments></comments>
                    <contents>
                        <connections>
                            <id>36e2d2da-f4d8-3eab-0000-000000000000</id>
                            <parentGroupId>24056fb5-78e4-3baf-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>24056fb5-78e4-3baf-0000-000000000000</groupId>
<id>21012c10-331a-3989-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>24056fb5-78e4-3baf-0000-000000000000</groupId>
<id>1b1bc606-7afc-30e4-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>40bd0e79-5f7c-367d-0000-000000000000</id>
                            <parentGroupId>24056fb5-78e4-3baf-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>24056fb5-78e4-3baf-0000-000000000000</groupId>
<id>a9996f8b-b81a-3a26-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>24056fb5-78e4-3baf-0000-000000000000</groupId>
<id>40ef4666-4c1c-31b4-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>48bfb2ac-b7ce-3999-0000-000000000000</id>
                            <parentGroupId>24056fb5-78e4-3baf-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>24056fb5-78e4-3baf-0000-000000000000</groupId>
<id>72601a7f-6350-3438-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>Response</selectedRelationships>
                            <source>
<groupId>24056fb5-78e4-3baf-0000-000000000000</groupId>
<id>b75b09f9-440e-3f71-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>93169816-00c8-3f2b-0000-000000000000</id>
                            <parentGroupId>24056fb5-78e4-3baf-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>24056fb5-78e4-3baf-0000-000000000000</groupId>
<id>b75b09f9-440e-3f71-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>24056fb5-78e4-3baf-0000-000000000000</groupId>
<id>6998593c-dbb7-3d7e-0000-000000000000</id>
<type>INPUT_PORT</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>b391f7d9-9a68-3043-0000-000000000000</id>
                            <parentGroupId>24056fb5-78e4-3baf-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>671.0596918926908</x>
<y>65.9462010220958</y>
                            </bends>
                            <bends>
<x>671.0596918926908</x>
<y>115.9462010220958</y>
                            </bends>
                            <destination>
<groupId>24056fb5-78e4-3baf-0000-000000000000</groupId>
<id>b75b09f9-440e-3f71-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>Retry</selectedRelationships>
                            <source>
<groupId>24056fb5-78e4-3baf-0000-000000000000</groupId>
<id>b75b09f9-440e-3f71-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>c1368c98-e43a-34a3-0000-000000000000</id>
                            <parentGroupId>24056fb5-78e4-3baf-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>24056fb5-78e4-3baf-0000-000000000000</groupId>
<id>b75b09f9-440e-3f71-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>fetch_next_page</selectedRelationships>
                            <source>
<groupId>24056fb5-78e4-3baf-0000-000000000000</groupId>
<id>5be98d76-864e-3210-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>c5c52b08-29b0-3a22-0000-000000000000</id>
                            <parentGroupId>24056fb5-78e4-3baf-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>24056fb5-78e4-3baf-0000-000000000000</groupId>
<id>7c0848a0-56c7-370a-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>24056fb5-78e4-3baf-0000-000000000000</groupId>
<id>21012c10-331a-3989-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>ca1b45d5-65f4-36af-0000-000000000000</id>
                            <parentGroupId>24056fb5-78e4-3baf-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>24056fb5-78e4-3baf-0000-000000000000</groupId>
<id>40ef4666-4c1c-31b4-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>24056fb5-78e4-3baf-0000-000000000000</groupId>
<id>7c0848a0-56c7-370a-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>cb8cb2c8-49e5-3f53-0000-000000000000</id>
                            <parentGroupId>24056fb5-78e4-3baf-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>24056fb5-78e4-3baf-0000-000000000000</groupId>
<id>1b1bc606-7afc-30e4-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>24056fb5-78e4-3baf-0000-000000000000</groupId>
<id>8f935576-db50-347b-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>dc929009-f8be-3187-0000-000000000000</id>
                            <parentGroupId>24056fb5-78e4-3baf-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>24056fb5-78e4-3baf-0000-000000000000</groupId>
<id>48938e2b-607b-3a30-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>fetch_next_page</selectedRelationships>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <source>
<groupId>24056fb5-78e4-3baf-0000-000000000000</groupId>
<id>5be98d76-864e-3210-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>eeafae76-56f2-3287-0000-000000000000</id>
                            <parentGroupId>24056fb5-78e4-3baf-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>24056fb5-78e4-3baf-0000-000000000000</groupId>
<id>8f935576-db50-347b-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>matched</selectedRelationships>
                            <source>
<groupId>24056fb5-78e4-3baf-0000-000000000000</groupId>
<id>48938e2b-607b-3a30-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f36d11b7-86f7-3c1b-0000-000000000000</id>
                            <parentGroupId>24056fb5-78e4-3baf-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>24056fb5-78e4-3baf-0000-000000000000</groupId>
<id>5be98d76-864e-3210-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>matched</selectedRelationships>
                            <source>
<groupId>24056fb5-78e4-3baf-0000-000000000000</groupId>
<id>72601a7f-6350-3438-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <inputPorts>
                            <id>6998593c-dbb7-3d7e-0000-000000000000</id>
                            <parentGroupId>24056fb5-78e4-3baf-0000-000000000000</parentGroupId>
                            <position>
<x>-325.4396791443362</x>
<y>54.14347989793487</y>
                            </position>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>Get data</name>
                            <state>STOPPED</state>
                            <type>INPUT_PORT</type>
                        </inputPorts>
                        <outputPorts>
                            <id>a9996f8b-b81a-3a26-0000-000000000000</id>
                            <parentGroupId>24056fb5-78e4-3baf-0000-000000000000</parentGroupId>
                            <position>
<x>266.8128385558591</x>
<y>1019.7585616850442</y>
                            </position>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>Return data</name>
                            <state>STOPPED</state>
                            <type>OUTPUT_PORT</type>
                        </outputPorts>
                        <processors>
                            <id>1b1bc606-7afc-30e4-0000-000000000000</id>
                            <parentGroupId>24056fb5-78e4-3baf-0000-000000000000</parentGroupId>
                            <position>
<x>-398.945614949271</x>
<y>620.1749688270088</y>
                            </position>
                            <bundle>
<artifact>nifi-kite-nar</artifact>
<group>org.apache.nifi</group>
<version>1.9.2</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Hadoop configuration files</key>
        <value>
            <name>Hadoop configuration files</name>
        </value>
    </entry>
    <entry>
        <key>Record schema</key>
        <value>
            <name>Record schema</name>
        </value>
    </entry>
    <entry>
        <key>kite-compression-type</key>
        <value>
            <name>kite-compression-type</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Hadoop configuration files</key>
    </entry>
    <entry>
        <key>Record schema</key>
        <value>${inferred.avro.schema}</value>
    </entry>
    <entry>
        <key>kite-compression-type</key>
        <value>NONE</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>ConvertJSONToAvro</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>incompatible</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.kite.ConvertJSONToAvro</type>
                        </processors>
                        <processors>
                            <id>21012c10-331a-3989-0000-000000000000</id>
                            <parentGroupId>24056fb5-78e4-3baf-0000-000000000000</parentGroupId>
                            <position>
<x>213.77655690394363</x>
<y>618.8085515293153</y>
                            </position>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.9.2</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>filename</key>
        <value>
            <name>filename</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>filename</key>
        <value>${table_name}.avro</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Update AVRO file name</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>40ef4666-4c1c-31b4-0000-000000000000</id>
                            <parentGroupId>24056fb5-78e4-3baf-0000-000000000000</parentGroupId>
                            <position>
<x>207.696108819531</x>
<y>812.6085372709817</y>
                            </position>
                            <bundle>
<artifact>nifi-avro-nar</artifact>
<group>org.apache.nifi</group>
<version>1.9.2</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>JSON container options</key>
        <value>
            <name>JSON container options</name>
        </value>
    </entry>
    <entry>
        <key>Wrap Single Record</key>
        <value>
            <name>Wrap Single Record</name>
        </value>
    </entry>
    <entry>
        <key>Avro schema</key>
        <value>
            <name>Avro schema</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>JSON container options</key>
        <value>array</value>
    </entry>
    <entry>
        <key>Wrap Single Record</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Avro schema</key>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>ConvertAvroToJSON</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.avro.ConvertAvroToJSON</type>
                        </processors>
                        <processors>
                            <id>48938e2b-607b-3a30-0000-000000000000</id>
                            <parentGroupId>24056fb5-78e4-3baf-0000-000000000000</parentGroupId>
                            <position>
<x>-395.83432483525417</x>
<y>431.22133023973174</y>
                            </position>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.9.2</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Character Set</key>
        <value>
            <name>Character Set</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Buffer Size</key>
        <value>
            <name>Maximum Buffer Size</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Capture Group Length</key>
        <value>
            <name>Maximum Capture Group Length</name>
        </value>
    </entry>
    <entry>
        <key>Enable Canonical Equivalence</key>
        <value>
            <name>Enable Canonical Equivalence</name>
        </value>
    </entry>
    <entry>
        <key>Enable Case-insensitive Matching</key>
        <value>
            <name>Enable Case-insensitive Matching</name>
        </value>
    </entry>
    <entry>
        <key>Permit Whitespace and Comments in Pattern</key>
        <value>
            <name>Permit Whitespace and Comments in Pattern</name>
        </value>
    </entry>
    <entry>
        <key>Enable DOTALL Mode</key>
        <value>
            <name>Enable DOTALL Mode</name>
        </value>
    </entry>
    <entry>
        <key>Enable Literal Parsing of the Pattern</key>
        <value>
            <name>Enable Literal Parsing of the Pattern</name>
        </value>
    </entry>
    <entry>
        <key>Enable Multiline Mode</key>
        <value>
            <name>Enable Multiline Mode</name>
        </value>
    </entry>
    <entry>
        <key>Enable Unicode-aware Case Folding</key>
        <value>
            <name>Enable Unicode-aware Case Folding</name>
        </value>
    </entry>
    <entry>
        <key>Enable Unicode Predefined Character Classes</key>
        <value>
            <name>Enable Unicode Predefined Character Classes</name>
        </value>
    </entry>
    <entry>
        <key>Enable Unix Lines Mode</key>
        <value>
            <name>Enable Unix Lines Mode</name>
        </value>
    </entry>
    <entry>
        <key>Include Capture Group 0</key>
        <value>
            <name>Include Capture Group 0</name>
        </value>
    </entry>
    <entry>
        <key>extract-text-enable-repeating-capture-group</key>
        <value>
            <name>extract-text-enable-repeating-capture-group</name>
        </value>
    </entry>
    <entry>
        <key>api_flow_results</key>
        <value>
            <name>api_flow_results</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Character Set</key>
        <value>UTF-8</value>
    </entry>
    <entry>
        <key>Maximum Buffer Size</key>
        <value>1 MB</value>
    </entry>
    <entry>
        <key>Maximum Capture Group Length</key>
        <value>1024</value>
    </entry>
    <entry>
        <key>Enable Canonical Equivalence</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Case-insensitive Matching</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Permit Whitespace and Comments in Pattern</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable DOTALL Mode</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Literal Parsing of the Pattern</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Multiline Mode</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Unicode-aware Case Folding</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Unicode Predefined Character Classes</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Unix Lines Mode</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Include Capture Group 0</key>
        <value>true</value>
    </entry>
    <entry>
        <key>extract-text-enable-repeating-capture-group</key>
        <value>false</value>
    </entry>
    <entry>
        <key>api_flow_results</key>
        <value>(?s)(^.*$)</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Extract response JSON and set it as an attribute</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>matched</name>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>unmatched</name>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ExtractText</type>
                        </processors>
                        <processors>
                            <id>5be98d76-864e-3210-0000-000000000000</id>
                            <parentGroupId>24056fb5-78e4-3baf-0000-000000000000</parentGroupId>
                            <position>
<x>210.67745307404812</x>
<y>226.54206461739784</y>
                            </position>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.9.2</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>fetch_next_page</key>
        <value>
            <name>fetch_next_page</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to Property name</value>
    </entry>
    <entry>
        <key>fetch_next_page</key>
        <value>${next:isEmpty():not()}</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Route on if next page exists</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>fetch_next_page</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                        <processors>
                            <id>72601a7f-6350-3438-0000-000000000000</id>
                            <parentGroupId>24056fb5-78e4-3baf-0000-000000000000</parentGroupId>
                            <position>
<x>-395.83426185935866</x>
<y>248.27883130096967</y>
                            </position>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.9.2</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Destination</key>
        <value>
            <name>Destination</name>
        </value>
    </entry>
    <entry>
        <key>Return Type</key>
        <value>
            <name>Return Type</name>
        </value>
    </entry>
    <entry>
        <key>Path Not Found Behavior</key>
        <value>
            <name>Path Not Found Behavior</name>
        </value>
    </entry>
    <entry>
        <key>Null Value Representation</key>
        <value>
            <name>Null Value Representation</name>
        </value>
    </entry>
    <entry>
        <key>next_page</key>
        <value>
            <name>next_page</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Destination</key>
        <value>flowfile-attribute</value>
    </entry>
    <entry>
        <key>Return Type</key>
        <value>auto-detect</value>
    </entry>
    <entry>
        <key>Path Not Found Behavior</key>
        <value>ignore</value>
    </entry>
    <entry>
        <key>Null Value Representation</key>
        <value>empty string</value>
    </entry>
    <entry>
        <key>next_page</key>
        <value>$.data.relationships.links.next</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Check if table has next page data</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>matched</name>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>unmatched</name>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.EvaluateJsonPath</type>
                        </processors>
                        <processors>
                            <id>7c0848a0-56c7-370a-0000-000000000000</id>
                            <parentGroupId>24056fb5-78e4-3baf-0000-000000000000</parentGroupId>
                            <position>
<x>-398.09900392632176</x>
<y>814.9380303504463</y>
                            </position>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.9.2</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Directory</key>
        <value>
            <name>Directory</name>
        </value>
    </entry>
    <entry>
        <key>Conflict Resolution Strategy</key>
        <value>
            <name>Conflict Resolution Strategy</name>
        </value>
    </entry>
    <entry>
        <key>Create Missing Directories</key>
        <value>
            <name>Create Missing Directories</name>
        </value>
    </entry>
    <entry>
        <key>Maximum File Count</key>
        <value>
            <name>Maximum File Count</name>
        </value>
    </entry>
    <entry>
        <key>Last Modified Time</key>
        <value>
            <name>Last Modified Time</name>
        </value>
    </entry>
    <entry>
        <key>Permissions</key>
        <value>
            <name>Permissions</name>
        </value>
    </entry>
    <entry>
        <key>Owner</key>
        <value>
            <name>Owner</name>
        </value>
    </entry>
    <entry>
        <key>Group</key>
        <value>
            <name>Group</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Directory</key>
        <value>avro</value>
    </entry>
    <entry>
        <key>Conflict Resolution Strategy</key>
        <value>replace</value>
    </entry>
    <entry>
        <key>Create Missing Directories</key>
        <value>true</value>
    </entry>
    <entry>
        <key>Maximum File Count</key>
    </entry>
    <entry>
        <key>Last Modified Time</key>
    </entry>
    <entry>
        <key>Permissions</key>
    </entry>
    <entry>
        <key>Owner</key>
    </entry>
    <entry>
        <key>Group</key>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Store AVRO file on disk</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.PutFile</type>
                        </processors>
                        <processors>
                            <id>8f935576-db50-347b-0000-000000000000</id>
                            <parentGroupId>24056fb5-78e4-3baf-0000-000000000000</parentGroupId>
                            <position>
<x>214.24093900580715</x>
<y>428.67588435435255</y>
                            </position>
                            <bundle>
<artifact>nifi-kite-nar</artifact>
<group>org.apache.nifi</group>
<version>1.9.2</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Schema Output Destination</key>
        <value>
            <name>Schema Output Destination</name>
        </value>
    </entry>
    <entry>
        <key>Input Content Type</key>
        <value>
            <name>Input Content Type</name>
        </value>
    </entry>
    <entry>
        <key>CSV Header Definition</key>
        <value>
            <name>CSV Header Definition</name>
        </value>
    </entry>
    <entry>
        <key>Get CSV Header Definition From Data</key>
        <value>
            <name>Get CSV Header Definition From Data</name>
        </value>
    </entry>
    <entry>
        <key>CSV Header Line Skip Count</key>
        <value>
            <name>CSV Header Line Skip Count</name>
        </value>
    </entry>
    <entry>
        <key>CSV delimiter</key>
        <value>
            <name>CSV delimiter</name>
        </value>
    </entry>
    <entry>
        <key>CSV Escape String</key>
        <value>
            <name>CSV Escape String</name>
        </value>
    </entry>
    <entry>
        <key>CSV Quote String</key>
        <value>
            <name>CSV Quote String</name>
        </value>
    </entry>
    <entry>
        <key>Pretty Avro Output</key>
        <value>
            <name>Pretty Avro Output</name>
        </value>
    </entry>
    <entry>
        <key>Avro Record Name</key>
        <value>
            <name>Avro Record Name</name>
        </value>
    </entry>
    <entry>
        <key>Number Of Records To Analyze</key>
        <value>
            <name>Number Of Records To Analyze</name>
        </value>
    </entry>
    <entry>
        <key>Charset</key>
        <value>
            <name>Charset</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Schema Output Destination</key>
        <value>flowfile-attribute</value>
    </entry>
    <entry>
        <key>Input Content Type</key>
        <value>json</value>
    </entry>
    <entry>
        <key>CSV Header Definition</key>
    </entry>
    <entry>
        <key>Get CSV Header Definition From Data</key>
        <value>true</value>
    </entry>
    <entry>
        <key>CSV Header Line Skip Count</key>
        <value>0</value>
    </entry>
    <entry>
        <key>CSV delimiter</key>
        <value>,</value>
    </entry>
    <entry>
        <key>CSV Escape String</key>
        <value>\</value>
    </entry>
    <entry>
        <key>CSV Quote String</key>
        <value>'</value>
    </entry>
    <entry>
        <key>Pretty Avro Output</key>
        <value>true</value>
    </entry>
    <entry>
        <key>Avro Record Name</key>
        <value>test</value>
    </entry>
    <entry>
        <key>Number Of Records To Analyze</key>
        <value>10</value>
    </entry>
    <entry>
        <key>Charset</key>
        <value>UTF-8</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>InferAvroSchema</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>original</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>unsupported content</name>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.kite.InferAvroSchema</type>
                        </processors>
                        <processors>
                            <id>b75b09f9-440e-3f71-0000-000000000000</id>
                            <parentGroupId>24056fb5-78e4-3baf-0000-000000000000</parentGroupId>
                            <position>
<x>208.0596918926908</x>
<y>25.946201022095806</y>
                            </position>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.9.2</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments>If authentication is needed to access it, enter the Basic Authentication Username and Basic Authentication Password or add a property for Authorization token by clicking + in properties.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>HTTP Method</key>
        <value>
            <name>HTTP Method</name>
        </value>
    </entry>
    <entry>
        <key>Remote URL</key>
        <value>
            <name>Remote URL</name>
        </value>
    </entry>
    <entry>
        <key>SSL Context Service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.ssl.SSLContextService</identifiesControllerService>
            <name>SSL Context Service</name>
        </value>
    </entry>
    <entry>
        <key>Connection Timeout</key>
        <value>
            <name>Connection Timeout</name>
        </value>
    </entry>
    <entry>
        <key>Read Timeout</key>
        <value>
            <name>Read Timeout</name>
        </value>
    </entry>
    <entry>
        <key>Include Date Header</key>
        <value>
            <name>Include Date Header</name>
        </value>
    </entry>
    <entry>
        <key>Follow Redirects</key>
        <value>
            <name>Follow Redirects</name>
        </value>
    </entry>
    <entry>
        <key>Attributes to Send</key>
        <value>
            <name>Attributes to Send</name>
        </value>
    </entry>
    <entry>
        <key>Basic Authentication Username</key>
        <value>
            <name>Basic Authentication Username</name>
        </value>
    </entry>
    <entry>
        <key>Basic Authentication Password</key>
        <value>
            <name>Basic Authentication Password</name>
        </value>
    </entry>
    <entry>
        <key>proxy-configuration-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.proxy.ProxyConfigurationService</identifiesControllerService>
            <name>proxy-configuration-service</name>
        </value>
    </entry>
    <entry>
        <key>Proxy Host</key>
        <value>
            <name>Proxy Host</name>
        </value>
    </entry>
    <entry>
        <key>Proxy Port</key>
        <value>
            <name>Proxy Port</name>
        </value>
    </entry>
    <entry>
        <key>Proxy Type</key>
        <value>
            <name>Proxy Type</name>
        </value>
    </entry>
    <entry>
        <key>invokehttp-proxy-user</key>
        <value>
            <name>invokehttp-proxy-user</name>
        </value>
    </entry>
    <entry>
        <key>invokehttp-proxy-password</key>
        <value>
            <name>invokehttp-proxy-password</name>
        </value>
    </entry>
    <entry>
        <key>Put Response Body In Attribute</key>
        <value>
            <name>Put Response Body In Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Length To Put In Attribute</key>
        <value>
            <name>Max Length To Put In Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Digest Authentication</key>
        <value>
            <name>Digest Authentication</name>
        </value>
    </entry>
    <entry>
        <key>Always Output Response</key>
        <value>
            <name>Always Output Response</name>
        </value>
    </entry>
    <entry>
        <key>Trusted Hostname</key>
        <value>
            <name>Trusted Hostname</name>
        </value>
    </entry>
    <entry>
        <key>Add Response Headers to Request</key>
        <value>
            <name>Add Response Headers to Request</name>
        </value>
    </entry>
    <entry>
        <key>Content-Type</key>
        <value>
            <name>Content-Type</name>
        </value>
    </entry>
    <entry>
        <key>send-message-body</key>
        <value>
            <name>send-message-body</name>
        </value>
    </entry>
    <entry>
        <key>Use Chunked Encoding</key>
        <value>
            <name>Use Chunked Encoding</name>
        </value>
    </entry>
    <entry>
        <key>Penalize on "No Retry"</key>
        <value>
            <name>Penalize on "No Retry"</name>
        </value>
    </entry>
    <entry>
        <key>use-etag</key>
        <value>
            <name>use-etag</name>
        </value>
    </entry>
    <entry>
        <key>etag-max-cache-size</key>
        <value>
            <name>etag-max-cache-size</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>HTTP Method</key>
        <value>GET</value>
    </entry>
    <entry>
        <key>Remote URL</key>
        <value>${next:isNull():ifElse("${base_url}/flow-results/packages/${form_uuid}/responses", ${next})}</value>
    </entry>
    <entry>
        <key>SSL Context Service</key>
    </entry>
    <entry>
        <key>Connection Timeout</key>
        <value>5 secs</value>
    </entry>
    <entry>
        <key>Read Timeout</key>
        <value>15 secs</value>
    </entry>
    <entry>
        <key>Include Date Header</key>
        <value>True</value>
    </entry>
    <entry>
        <key>Follow Redirects</key>
        <value>True</value>
    </entry>
    <entry>
        <key>Attributes to Send</key>
    </entry>
    <entry>
        <key>Basic Authentication Username</key>
    </entry>
    <entry>
        <key>Basic Authentication Password</key>
    </entry>
    <entry>
        <key>proxy-configuration-service</key>
    </entry>
    <entry>
        <key>Proxy Host</key>
    </entry>
    <entry>
        <key>Proxy Port</key>
    </entry>
    <entry>
        <key>Proxy Type</key>
        <value>http</value>
    </entry>
    <entry>
        <key>invokehttp-proxy-user</key>
    </entry>
    <entry>
        <key>invokehttp-proxy-password</key>
    </entry>
    <entry>
        <key>Put Response Body In Attribute</key>
    </entry>
    <entry>
        <key>Max Length To Put In Attribute</key>
        <value>256</value>
    </entry>
    <entry>
        <key>Digest Authentication</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Always Output Response</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Trusted Hostname</key>
        <value>api.ona.io</value>
    </entry>
    <entry>
        <key>Add Response Headers to Request</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Content-Type</key>
        <value>application/json</value>
    </entry>
    <entry>
        <key>send-message-body</key>
        <value>true</value>
    </entry>
    <entry>
        <key>Use Chunked Encoding</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Penalize on "No Retry"</key>
        <value>false</value>
    </entry>
    <entry>
        <key>use-etag</key>
        <value>false</value>
    </entry>
    <entry>
        <key>etag-max-cache-size</key>
        <value>10MB</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>GET flow results responses from API</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>Failure</name>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>No Retry</name>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>Original</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>Response</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>Retry</name>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.InvokeHTTP</type>
                        </processors>
                    </contents>
                    <name>Get data from API and put avro file</name>
                    <variables/>
                </processGroups>
                <processGroups>
                    <id>888821f3-a31d-3e1b-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <position>
                        <x>1103.4443359375</x>
                        <y>-75.88534399702257</y>
                    </position>
                    <comments></comments>
                    <contents>
                        <connections>
                            <id>4b2da88e-737a-3d2b-0000-000000000000</id>
                            <parentGroupId>888821f3-a31d-3e1b-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>888821f3-a31d-3e1b-0000-000000000000</groupId>
<id>40127139-ad8c-3ac0-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>888821f3-a31d-3e1b-0000-000000000000</groupId>
<id>2108958e-4a2b-36fa-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>56f7ccf9-8407-3eea-0000-000000000000</id>
                            <parentGroupId>888821f3-a31d-3e1b-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>888821f3-a31d-3e1b-0000-000000000000</groupId>
<id>2108958e-4a2b-36fa-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>matched</selectedRelationships>
                            <source>
<groupId>888821f3-a31d-3e1b-0000-000000000000</groupId>
<id>25e4a6cd-6e65-32ff-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>94984083-4aa8-323a-0000-000000000000</id>
                            <parentGroupId>888821f3-a31d-3e1b-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>888821f3-a31d-3e1b-0000-000000000000</groupId>
<id>25e4a6cd-6e65-32ff-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>888821f3-a31d-3e1b-0000-000000000000</groupId>
<id>10941f7b-5ebb-3491-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <outputPorts>
                            <id>40127139-ad8c-3ac0-0000-000000000000</id>
                            <parentGroupId>888821f3-a31d-3e1b-0000-000000000000</parentGroupId>
                            <position>
<x>-514.6138955635702</x>
<y>224.99999849795324</y>
                            </position>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>JSON definition</name>
                            <state>STOPPED</state>
                            <type>OUTPUT_PORT</type>
                        </outputPorts>
                        <processors>
                            <id>10941f7b-5ebb-3491-0000-000000000000</id>
                            <parentGroupId>888821f3-a31d-3e1b-0000-000000000000</parentGroupId>
                            <position>
<x>-569.6138955635702</x>
<y>-393.032197282652</y>
                            </position>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.9.2</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Base Path</key>
        <value>
            <name>Base Path</name>
        </value>
    </entry>
    <entry>
        <key>Listening Port</key>
        <value>
            <name>Listening Port</name>
        </value>
    </entry>
    <entry>
        <key>Max Data to Receive per Second</key>
        <value>
            <name>Max Data to Receive per Second</name>
        </value>
    </entry>
    <entry>
        <key>SSL Context Service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.ssl.RestrictedSSLContextService</identifiesControllerService>
            <name>SSL Context Service</name>
        </value>
    </entry>
    <entry>
        <key>Authorized DN Pattern</key>
        <value>
            <name>Authorized DN Pattern</name>
        </value>
    </entry>
    <entry>
        <key>Max Unconfirmed Flowfile Time</key>
        <value>
            <name>Max Unconfirmed Flowfile Time</name>
        </value>
    </entry>
    <entry>
        <key>HTTP Headers to receive as Attributes (Regex)</key>
        <value>
            <name>HTTP Headers to receive as Attributes (Regex)</name>
        </value>
    </entry>
    <entry>
        <key>Return Code</key>
        <value>
            <name>Return Code</name>
        </value>
    </entry>
    <entry>
        <key>multipart-request-max-size</key>
        <value>
            <name>multipart-request-max-size</name>
        </value>
    </entry>
    <entry>
        <key>multipart-read-buffer-size</key>
        <value>
            <name>multipart-read-buffer-size</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Base Path</key>
        <value>floip</value>
    </entry>
    <entry>
        <key>Listening Port</key>
        <value>9090</value>
    </entry>
    <entry>
        <key>Max Data to Receive per Second</key>
    </entry>
    <entry>
        <key>SSL Context Service</key>
    </entry>
    <entry>
        <key>Authorized DN Pattern</key>
        <value>.*</value>
    </entry>
    <entry>
        <key>Max Unconfirmed Flowfile Time</key>
        <value>60 secs</value>
    </entry>
    <entry>
        <key>HTTP Headers to receive as Attributes (Regex)</key>
        <value>package_name</value>
    </entry>
    <entry>
        <key>Return Code</key>
        <value>200</value>
    </entry>
    <entry>
        <key>multipart-request-max-size</key>
        <value>1 MB</value>
    </entry>
    <entry>
        <key>multipart-read-buffer-size</key>
        <value>512 KB</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Listen for pushed submissions</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ListenHTTP</type>
                        </processors>
                        <processors>
                            <id>2108958e-4a2b-36fa-0000-000000000000</id>
                            <parentGroupId>888821f3-a31d-3e1b-0000-000000000000</parentGroupId>
                            <position>
<x>-569.6138955635702</x>
<y>14.559763126193559</y>
                            </position>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.9.2</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>Content-Type</key>
        <value>
            <name>Content-Type</name>
        </value>
    </entry>
    <entry>
        <key>mime.type</key>
        <value>
            <name>mime.type</name>
        </value>
    </entry>
    <entry>
        <key>table_name</key>
        <value>
            <name>table_name</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>Content-Type</key>
        <value>application/json</value>
    </entry>
    <entry>
        <key>mime.type</key>
        <value>application/json</value>
    </entry>
    <entry>
        <key>table_name</key>
        <value>${package_name}</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Update table name attribute</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>25e4a6cd-6e65-32ff-0000-000000000000</id>
                            <parentGroupId>888821f3-a31d-3e1b-0000-000000000000</parentGroupId>
                            <position>
<x>-569.6138955635702</x>
<y>-186.2425440027127</y>
                            </position>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.9.2</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Character Set</key>
        <value>
            <name>Character Set</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Buffer Size</key>
        <value>
            <name>Maximum Buffer Size</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Capture Group Length</key>
        <value>
            <name>Maximum Capture Group Length</name>
        </value>
    </entry>
    <entry>
        <key>Enable Canonical Equivalence</key>
        <value>
            <name>Enable Canonical Equivalence</name>
        </value>
    </entry>
    <entry>
        <key>Enable Case-insensitive Matching</key>
        <value>
            <name>Enable Case-insensitive Matching</name>
        </value>
    </entry>
    <entry>
        <key>Permit Whitespace and Comments in Pattern</key>
        <value>
            <name>Permit Whitespace and Comments in Pattern</name>
        </value>
    </entry>
    <entry>
        <key>Enable DOTALL Mode</key>
        <value>
            <name>Enable DOTALL Mode</name>
        </value>
    </entry>
    <entry>
        <key>Enable Literal Parsing of the Pattern</key>
        <value>
            <name>Enable Literal Parsing of the Pattern</name>
        </value>
    </entry>
    <entry>
        <key>Enable Multiline Mode</key>
        <value>
            <name>Enable Multiline Mode</name>
        </value>
    </entry>
    <entry>
        <key>Enable Unicode-aware Case Folding</key>
        <value>
            <name>Enable Unicode-aware Case Folding</name>
        </value>
    </entry>
    <entry>
        <key>Enable Unicode Predefined Character Classes</key>
        <value>
            <name>Enable Unicode Predefined Character Classes</name>
        </value>
    </entry>
    <entry>
        <key>Enable Unix Lines Mode</key>
        <value>
            <name>Enable Unix Lines Mode</name>
        </value>
    </entry>
    <entry>
        <key>Include Capture Group 0</key>
        <value>
            <name>Include Capture Group 0</name>
        </value>
    </entry>
    <entry>
        <key>extract-text-enable-repeating-capture-group</key>
        <value>
            <name>extract-text-enable-repeating-capture-group</name>
        </value>
    </entry>
    <entry>
        <key>json_feed</key>
        <value>
            <name>json_feed</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Character Set</key>
        <value>UTF-8</value>
    </entry>
    <entry>
        <key>Maximum Buffer Size</key>
        <value>1 MB</value>
    </entry>
    <entry>
        <key>Maximum Capture Group Length</key>
        <value>1024</value>
    </entry>
    <entry>
        <key>Enable Canonical Equivalence</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Case-insensitive Matching</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Permit Whitespace and Comments in Pattern</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable DOTALL Mode</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Literal Parsing of the Pattern</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Multiline Mode</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Unicode-aware Case Folding</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Unicode Predefined Character Classes</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Unix Lines Mode</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Include Capture Group 0</key>
        <value>true</value>
    </entry>
    <entry>
        <key>extract-text-enable-repeating-capture-group</key>
        <value>false</value>
    </entry>
    <entry>
        <key>json_feed</key>
        <value>(?s)(^.*$)</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Extract submission and set it as an attribute</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>matched</name>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>unmatched</name>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ExtractText</type>
                        </processors>
                    </contents>
                    <name>Listen to pushed submissions</name>
                    <variables/>
                </processGroups>
                <processGroups>
                    <id>89fba7f1-10e6-3964-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <position>
                        <x>1113.6958617616046</x>
                        <y>827.5802123986487</y>
                    </position>
                    <comments></comments>
                    <contents>
                        <connections>
                            <id>1aed408f-bc87-38c5-0000-000000000000</id>
                            <parentGroupId>89fba7f1-10e6-3964-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>89fba7f1-10e6-3964-0000-000000000000</groupId>
<id>acd35689-dcd0-3d7e-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>89fba7f1-10e6-3964-0000-000000000000</groupId>
<id>54cae2cc-4bdf-33bc-0000-000000000000</id>
<type>INPUT_PORT</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>52247c90-3d3c-3ac5-0000-000000000000</id>
                            <parentGroupId>89fba7f1-10e6-3964-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>89fba7f1-10e6-3964-0000-000000000000</groupId>
<id>9171da28-48a5-3f68-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>89fba7f1-10e6-3964-0000-000000000000</groupId>
<id>351d00d1-10a0-3527-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>70505662-66ea-354f-0000-000000000000</id>
                            <parentGroupId>89fba7f1-10e6-3964-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>89fba7f1-10e6-3964-0000-000000000000</groupId>
<id>bbfbf2ea-57c2-3068-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>89fba7f1-10e6-3964-0000-000000000000</groupId>
<id>9171da28-48a5-3f68-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>917cd6a1-4f56-3fe3-0000-000000000000</id>
                            <parentGroupId>89fba7f1-10e6-3964-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>89fba7f1-10e6-3964-0000-000000000000</groupId>
<id>351d00d1-10a0-3527-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>matched</selectedRelationships>
                            <source>
<groupId>89fba7f1-10e6-3964-0000-000000000000</groupId>
<id>acd35689-dcd0-3d7e-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>a65c2cf8-de6d-3e50-0000-000000000000</id>
                            <parentGroupId>89fba7f1-10e6-3964-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>89fba7f1-10e6-3964-0000-000000000000</groupId>
<id>558ba015-62b2-3a25-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>89fba7f1-10e6-3964-0000-000000000000</groupId>
<id>bbfbf2ea-57c2-3068-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <inputPorts>
                            <id>54cae2cc-4bdf-33bc-0000-000000000000</id>
                            <parentGroupId>89fba7f1-10e6-3964-0000-000000000000</parentGroupId>
                            <position>
<x>403.99999966369614</x>
<y>32.00000646135081</y>
                            </position>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>Row_data</name>
                            <state>STOPPED</state>
                            <type>INPUT_PORT</type>
                        </inputPorts>
                        <outputPorts>
                            <id>558ba015-62b2-3a25-0000-000000000000</id>
                            <parentGroupId>89fba7f1-10e6-3964-0000-000000000000</parentGroupId>
                            <position>
<x>876.999969146118</x>
<y>354.00000264665357</y>
                            </position>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>row data</name>
                            <state>STOPPED</state>
                            <type>OUTPUT_PORT</type>
                        </outputPorts>
                        <processors>
                            <id>351d00d1-10a0-3527-0000-000000000000</id>
                            <parentGroupId>89fba7f1-10e6-3964-0000-000000000000</parentGroupId>
                            <position>
<x>335.9999996636961</x>
<y>148.00000264665357</y>
                            </position>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.9.2</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Database Connection Pooling Service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.dbcp.DBCPService</identifiesControllerService>
            <name>Database Connection Pooling Service</name>
        </value>
    </entry>
    <entry>
        <key>sql-pre-query</key>
        <value>
            <name>sql-pre-query</name>
        </value>
    </entry>
    <entry>
        <key>SQL select query</key>
        <value>
            <name>SQL select query</name>
        </value>
    </entry>
    <entry>
        <key>sql-post-query</key>
        <value>
            <name>sql-post-query</name>
        </value>
    </entry>
    <entry>
        <key>Max Wait Time</key>
        <value>
            <name>Max Wait Time</name>
        </value>
    </entry>
    <entry>
        <key>dbf-normalize</key>
        <value>
            <name>dbf-normalize</name>
        </value>
    </entry>
    <entry>
        <key>dbf-user-logical-types</key>
        <value>
            <name>dbf-user-logical-types</name>
        </value>
    </entry>
    <entry>
        <key>compression-format</key>
        <value>
            <name>compression-format</name>
        </value>
    </entry>
    <entry>
        <key>dbf-default-precision</key>
        <value>
            <name>dbf-default-precision</name>
        </value>
    </entry>
    <entry>
        <key>dbf-default-scale</key>
        <value>
            <name>dbf-default-scale</name>
        </value>
    </entry>
    <entry>
        <key>esql-max-rows</key>
        <value>
            <name>esql-max-rows</name>
        </value>
    </entry>
    <entry>
        <key>esql-output-batch-size</key>
        <value>
            <name>esql-output-batch-size</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Database Connection Pooling Service</key>
        <value>6df3e2ab-8155-3eb9-0000-000000000000</value>
    </entry>
    <entry>
        <key>sql-pre-query</key>
    </entry>
    <entry>
        <key>SQL select query</key>
        <value>INSERT INTO raw_${table_name} VALUES('${row_id}', '${submission_id}', '${submission_time:replace('T', ' '):substringBefore('+')}', '${row_details:replace("'", '')}');</value>
    </entry>
    <entry>
        <key>sql-post-query</key>
    </entry>
    <entry>
        <key>Max Wait Time</key>
        <value>0 seconds</value>
    </entry>
    <entry>
        <key>dbf-normalize</key>
        <value>false</value>
    </entry>
    <entry>
        <key>dbf-user-logical-types</key>
        <value>false</value>
    </entry>
    <entry>
        <key>compression-format</key>
        <value>NONE</value>
    </entry>
    <entry>
        <key>dbf-default-precision</key>
        <value>10</value>
    </entry>
    <entry>
        <key>dbf-default-scale</key>
        <value>0</value>
    </entry>
    <entry>
        <key>esql-max-rows</key>
        <value>0</value>
    </entry>
    <entry>
        <key>esql-output-batch-size</key>
        <value>0</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Insert raw flow results into table prepended raw_[table_name]</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ExecuteSQL</type>
                        </processors>
                        <processors>
                            <id>9171da28-48a5-3f68-0000-000000000000</id>
                            <parentGroupId>89fba7f1-10e6-3964-0000-000000000000</parentGroupId>
                            <position>
<x>826.6969143365477</x>
<y>150.0303066017317</y>
                            </position>
                            <bundle>
<artifact>nifi-avro-nar</artifact>
<group>org.apache.nifi</group>
<version>1.9.2</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>JSON container options</key>
        <value>
            <name>JSON container options</name>
        </value>
    </entry>
    <entry>
        <key>Wrap Single Record</key>
        <value>
            <name>Wrap Single Record</name>
        </value>
    </entry>
    <entry>
        <key>Avro schema</key>
        <value>
            <name>Avro schema</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>JSON container options</key>
        <value>array</value>
    </entry>
    <entry>
        <key>Wrap Single Record</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Avro schema</key>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>ConvertAvroToJSON</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.avro.ConvertAvroToJSON</type>
                        </processors>
                        <processors>
                            <id>acd35689-dcd0-3d7e-0000-000000000000</id>
                            <parentGroupId>89fba7f1-10e6-3964-0000-000000000000</parentGroupId>
                            <position>
<x>825.9999996636961</x>
<y>-11.999993538649193</y>
                            </position>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.9.2</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Character Set</key>
        <value>
            <name>Character Set</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Buffer Size</key>
        <value>
            <name>Maximum Buffer Size</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Capture Group Length</key>
        <value>
            <name>Maximum Capture Group Length</name>
        </value>
    </entry>
    <entry>
        <key>Enable Canonical Equivalence</key>
        <value>
            <name>Enable Canonical Equivalence</name>
        </value>
    </entry>
    <entry>
        <key>Enable Case-insensitive Matching</key>
        <value>
            <name>Enable Case-insensitive Matching</name>
        </value>
    </entry>
    <entry>
        <key>Permit Whitespace and Comments in Pattern</key>
        <value>
            <name>Permit Whitespace and Comments in Pattern</name>
        </value>
    </entry>
    <entry>
        <key>Enable DOTALL Mode</key>
        <value>
            <name>Enable DOTALL Mode</name>
        </value>
    </entry>
    <entry>
        <key>Enable Literal Parsing of the Pattern</key>
        <value>
            <name>Enable Literal Parsing of the Pattern</name>
        </value>
    </entry>
    <entry>
        <key>Enable Multiline Mode</key>
        <value>
            <name>Enable Multiline Mode</name>
        </value>
    </entry>
    <entry>
        <key>Enable Unicode-aware Case Folding</key>
        <value>
            <name>Enable Unicode-aware Case Folding</name>
        </value>
    </entry>
    <entry>
        <key>Enable Unicode Predefined Character Classes</key>
        <value>
            <name>Enable Unicode Predefined Character Classes</name>
        </value>
    </entry>
    <entry>
        <key>Enable Unix Lines Mode</key>
        <value>
            <name>Enable Unix Lines Mode</name>
        </value>
    </entry>
    <entry>
        <key>Include Capture Group 0</key>
        <value>
            <name>Include Capture Group 0</name>
        </value>
    </entry>
    <entry>
        <key>extract-text-enable-repeating-capture-group</key>
        <value>
            <name>extract-text-enable-repeating-capture-group</name>
        </value>
    </entry>
    <entry>
        <key>row_details</key>
        <value>
            <name>row_details</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Character Set</key>
        <value>UTF-8</value>
    </entry>
    <entry>
        <key>Maximum Buffer Size</key>
        <value>1 MB</value>
    </entry>
    <entry>
        <key>Maximum Capture Group Length</key>
        <value>1024</value>
    </entry>
    <entry>
        <key>Enable Canonical Equivalence</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Case-insensitive Matching</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Permit Whitespace and Comments in Pattern</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable DOTALL Mode</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Literal Parsing of the Pattern</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Multiline Mode</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Unicode-aware Case Folding</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Unicode Predefined Character Classes</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Unix Lines Mode</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Include Capture Group 0</key>
        <value>true</value>
    </entry>
    <entry>
        <key>extract-text-enable-repeating-capture-group</key>
        <value>false</value>
    </entry>
    <entry>
        <key>row_details</key>
        <value>(?s)(^.*$)</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Set row details as an atrribute</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>matched</name>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>unmatched</name>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ExtractText</type>
                        </processors>
                        <processors>
                            <id>bbfbf2ea-57c2-3068-0000-000000000000</id>
                            <parentGroupId>89fba7f1-10e6-3964-0000-000000000000</parentGroupId>
                            <position>
<x>335.151466033325</x>
<y>314.9393642189192</y>
                            </position>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.9.2</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Regular Expression</key>
        <value>
            <name>Regular Expression</name>
        </value>
    </entry>
    <entry>
        <key>Replacement Value</key>
        <value>
            <name>Replacement Value</name>
        </value>
    </entry>
    <entry>
        <key>Character Set</key>
        <value>
            <name>Character Set</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Buffer Size</key>
        <value>
            <name>Maximum Buffer Size</name>
        </value>
    </entry>
    <entry>
        <key>Replacement Strategy</key>
        <value>
            <name>Replacement Strategy</name>
        </value>
    </entry>
    <entry>
        <key>Evaluation Mode</key>
        <value>
            <name>Evaluation Mode</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Regular Expression</key>
        <value>(?s)(^.*$)</value>
    </entry>
    <entry>
        <key>Replacement Value</key>
        <value>${row_details}</value>
    </entry>
    <entry>
        <key>Character Set</key>
        <value>UTF-8</value>
    </entry>
    <entry>
        <key>Maximum Buffer Size</key>
        <value>1 MB</value>
    </entry>
    <entry>
        <key>Replacement Strategy</key>
        <value>Regex Replace</value>
    </entry>
    <entry>
        <key>Evaluation Mode</key>
        <value>Entire text</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Set row details as flowFile content</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ReplaceText</type>
                        </processors>
                    </contents>
                    <name>Insert raw format data</name>
                    <variables/>
                </processGroups>
                <processGroups>
                    <id>f30b5c9a-d916-36bc-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <position>
                        <x>481.17818366701465</x>
                        <y>-83.20900917053223</y>
                    </position>
                    <comments></comments>
                    <contents>
                        <connections>
                            <id>15732476-444f-3373-0000-000000000000</id>
                            <parentGroupId>f30b5c9a-d916-36bc-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>1009.8867528428086</x>
<y>60.64526115164679</y>
                            </bends>
                            <bends>
<x>1009.8867528428086</x>
<y>110.64526115164679</y>
                            </bends>
                            <destination>
<groupId>f30b5c9a-d916-36bc-0000-000000000000</groupId>
<id>223649f0-4fc7-35dd-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>Retry</selectedRelationships>
                            <source>
<groupId>f30b5c9a-d916-36bc-0000-000000000000</groupId>
<id>223649f0-4fc7-35dd-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>2921edef-859f-32dd-0000-000000000000</id>
                            <parentGroupId>f30b5c9a-d916-36bc-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>f30b5c9a-d916-36bc-0000-000000000000</groupId>
<id>7b9c174c-41f4-3af7-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>f30b5c9a-d916-36bc-0000-000000000000</groupId>
<id>c4c54a5d-7ec7-3b09-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>2a1a58ff-2d80-3a86-0000-000000000000</id>
                            <parentGroupId>f30b5c9a-d916-36bc-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>f30b5c9a-d916-36bc-0000-000000000000</groupId>
<id>3d830bfb-9eca-3b02-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>f30b5c9a-d916-36bc-0000-000000000000</groupId>
<id>d1a41c81-8a56-3c88-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>3a590754-5501-36e9-0000-000000000000</id>
                            <parentGroupId>f30b5c9a-d916-36bc-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>f30b5c9a-d916-36bc-0000-000000000000</groupId>
<id>1b302d3a-524e-3076-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>f30b5c9a-d916-36bc-0000-000000000000</groupId>
<id>54f3c11e-6ddb-33a6-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>4d89f66b-1d68-3db9-0000-000000000000</id>
                            <parentGroupId>f30b5c9a-d916-36bc-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>f30b5c9a-d916-36bc-0000-000000000000</groupId>
<id>223649f0-4fc7-35dd-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>matched</selectedRelationships>
                            <source>
<groupId>f30b5c9a-d916-36bc-0000-000000000000</groupId>
<id>3d830bfb-9eca-3b02-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>4f1ae76f-ce9e-3fbb-0000-000000000000</id>
                            <parentGroupId>f30b5c9a-d916-36bc-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>f30b5c9a-d916-36bc-0000-000000000000</groupId>
<id>3ad510eb-ff5a-3aae-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>Response</selectedRelationships>
                            <source>
<groupId>f30b5c9a-d916-36bc-0000-000000000000</groupId>
<id>223649f0-4fc7-35dd-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>6fe5dfcd-1f62-396a-0000-000000000000</id>
                            <parentGroupId>f30b5c9a-d916-36bc-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>f30b5c9a-d916-36bc-0000-000000000000</groupId>
<id>7b9c174c-41f4-3af7-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>matched</selectedRelationships>
                            <source>
<groupId>f30b5c9a-d916-36bc-0000-000000000000</groupId>
<id>3ad510eb-ff5a-3aae-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>db0b856b-291e-3b09-0000-000000000000</id>
                            <parentGroupId>f30b5c9a-d916-36bc-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>f30b5c9a-d916-36bc-0000-000000000000</groupId>
<id>c4c54a5d-7ec7-3b09-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>f30b5c9a-d916-36bc-0000-000000000000</groupId>
<id>1b302d3a-524e-3076-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f9592c4b-98bc-3ad0-0000-000000000000</id>
                            <parentGroupId>f30b5c9a-d916-36bc-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>f30b5c9a-d916-36bc-0000-000000000000</groupId>
<id>54f3c11e-6ddb-33a6-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>f30b5c9a-d916-36bc-0000-000000000000</groupId>
<id>be38910a-8e8b-3c3d-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>fec4e5dd-1078-30e1-0000-000000000000</id>
                            <parentGroupId>f30b5c9a-d916-36bc-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>f30b5c9a-d916-36bc-0000-000000000000</groupId>
<id>be38910a-8e8b-3c3d-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>f30b5c9a-d916-36bc-0000-000000000000</groupId>
<id>28ca64e8-b052-3028-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <labels>
                            <id>811ae22f-41d4-396f-0000-000000000000</id>
                            <parentGroupId>f30b5c9a-d916-36bc-0000-000000000000</parentGroupId>
                            <position>
<x>524.0410969075112</x>
<y>-393.4350489147007</y>
                            </position>
                            <height>766.0</height>
                            <label>                                             Batch pulls from API</label>
                            <style>
<entry>
    <key>background-color</key>
    <value>#d6fffa</value>
</entry>
<entry>
    <key>font-size</key>
    <value>12px</value>
</entry>
                            </style>
                            <width>395.99998474121094</width>
                        </labels>
                        <labels>
                            <id>a99d0d9c-46a0-3e15-0000-000000000000</id>
                            <parentGroupId>f30b5c9a-d916-36bc-0000-000000000000</parentGroupId>
                            <position>
<x>-3.869059342488754</x>
<y>-393.5366419322788</y>
                            </position>
                            <height>958.0</height>
                            <label>                                          JSON Feed flow</label>
                            <style>
<entry>
    <key>background-color</key>
    <value>#d6e8ff</value>
</entry>
<entry>
    <key>font-size</key>
    <value>12px</value>
</entry>
                            </style>
                            <width>407.99998474121094</width>
                        </labels>
                        <outputPorts>
                            <id>7b9c174c-41f4-3af7-0000-000000000000</id>
                            <parentGroupId>f30b5c9a-d916-36bc-0000-000000000000</parentGroupId>
                            <position>
<x>604.3354244110087</x>
<y>449.8270050434371</y>
                            </position>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>Survey details</name>
                            <state>STOPPED</state>
                            <type>OUTPUT_PORT</type>
                        </outputPorts>
                        <processors>
                            <id>1b302d3a-524e-3076-0000-000000000000</id>
                            <parentGroupId>f30b5c9a-d916-36bc-0000-000000000000</parentGroupId>
                            <position>
<x>23.116446855326956</x>
<y>219.98993890744356</y>
                            </position>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.9.2</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>filename</key>
        <value>
            <name>filename</name>
        </value>
    </entry>
    <entry>
        <key>json_feed</key>
        <value>
            <name>json_feed</name>
        </value>
    </entry>
    <entry>
        <key>table_name</key>
        <value>
            <name>table_name</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>filename</key>
        <value>${survey:jsonPath('$.data.attributes.name')}.avro</value>
    </entry>
    <entry>
        <key>json_feed</key>
        <value>${response:jsonPath('$.data.attributes.responses')}</value>
    </entry>
    <entry>
        <key>table_name</key>
        <value>${survey:jsonPath('$.data.attributes.name')}</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Update table name, file name and JSON feed attributes</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>223649f0-4fc7-35dd-0000-000000000000</id>
                            <parentGroupId>f30b5c9a-d916-36bc-0000-000000000000</parentGroupId>
                            <position>
<x>546.8867528428086</x>
<y>20.645261151646793</y>
                            </position>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.9.2</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments>If authentication is needed to access it, enter the Basic Authentication Username and Basic Authentication Password or add a property for Authorization token by clicking + in properties.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>HTTP Method</key>
        <value>
            <name>HTTP Method</name>
        </value>
    </entry>
    <entry>
        <key>Remote URL</key>
        <value>
            <name>Remote URL</name>
        </value>
    </entry>
    <entry>
        <key>SSL Context Service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.ssl.SSLContextService</identifiesControllerService>
            <name>SSL Context Service</name>
        </value>
    </entry>
    <entry>
        <key>Connection Timeout</key>
        <value>
            <name>Connection Timeout</name>
        </value>
    </entry>
    <entry>
        <key>Read Timeout</key>
        <value>
            <name>Read Timeout</name>
        </value>
    </entry>
    <entry>
        <key>Include Date Header</key>
        <value>
            <name>Include Date Header</name>
        </value>
    </entry>
    <entry>
        <key>Follow Redirects</key>
        <value>
            <name>Follow Redirects</name>
        </value>
    </entry>
    <entry>
        <key>Attributes to Send</key>
        <value>
            <name>Attributes to Send</name>
        </value>
    </entry>
    <entry>
        <key>Basic Authentication Username</key>
        <value>
            <name>Basic Authentication Username</name>
        </value>
    </entry>
    <entry>
        <key>Basic Authentication Password</key>
        <value>
            <name>Basic Authentication Password</name>
        </value>
    </entry>
    <entry>
        <key>proxy-configuration-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.proxy.ProxyConfigurationService</identifiesControllerService>
            <name>proxy-configuration-service</name>
        </value>
    </entry>
    <entry>
        <key>Proxy Host</key>
        <value>
            <name>Proxy Host</name>
        </value>
    </entry>
    <entry>
        <key>Proxy Port</key>
        <value>
            <name>Proxy Port</name>
        </value>
    </entry>
    <entry>
        <key>Proxy Type</key>
        <value>
            <name>Proxy Type</name>
        </value>
    </entry>
    <entry>
        <key>invokehttp-proxy-user</key>
        <value>
            <name>invokehttp-proxy-user</name>
        </value>
    </entry>
    <entry>
        <key>invokehttp-proxy-password</key>
        <value>
            <name>invokehttp-proxy-password</name>
        </value>
    </entry>
    <entry>
        <key>Put Response Body In Attribute</key>
        <value>
            <name>Put Response Body In Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Length To Put In Attribute</key>
        <value>
            <name>Max Length To Put In Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Digest Authentication</key>
        <value>
            <name>Digest Authentication</name>
        </value>
    </entry>
    <entry>
        <key>Always Output Response</key>
        <value>
            <name>Always Output Response</name>
        </value>
    </entry>
    <entry>
        <key>Trusted Hostname</key>
        <value>
            <name>Trusted Hostname</name>
        </value>
    </entry>
    <entry>
        <key>Add Response Headers to Request</key>
        <value>
            <name>Add Response Headers to Request</name>
        </value>
    </entry>
    <entry>
        <key>Content-Type</key>
        <value>
            <name>Content-Type</name>
        </value>
    </entry>
    <entry>
        <key>send-message-body</key>
        <value>
            <name>send-message-body</name>
        </value>
    </entry>
    <entry>
        <key>Use Chunked Encoding</key>
        <value>
            <name>Use Chunked Encoding</name>
        </value>
    </entry>
    <entry>
        <key>Penalize on "No Retry"</key>
        <value>
            <name>Penalize on "No Retry"</name>
        </value>
    </entry>
    <entry>
        <key>use-etag</key>
        <value>
            <name>use-etag</name>
        </value>
    </entry>
    <entry>
        <key>etag-max-cache-size</key>
        <value>
            <name>etag-max-cache-size</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>HTTP Method</key>
        <value>GET</value>
    </entry>
    <entry>
        <key>Remote URL</key>
        <value>${base_url}/flow-results/packages/${form_uuid}</value>
    </entry>
    <entry>
        <key>SSL Context Service</key>
    </entry>
    <entry>
        <key>Connection Timeout</key>
        <value>5 secs</value>
    </entry>
    <entry>
        <key>Read Timeout</key>
        <value>15 secs</value>
    </entry>
    <entry>
        <key>Include Date Header</key>
        <value>True</value>
    </entry>
    <entry>
        <key>Follow Redirects</key>
        <value>True</value>
    </entry>
    <entry>
        <key>Attributes to Send</key>
    </entry>
    <entry>
        <key>Basic Authentication Username</key>
    </entry>
    <entry>
        <key>Basic Authentication Password</key>
    </entry>
    <entry>
        <key>proxy-configuration-service</key>
    </entry>
    <entry>
        <key>Proxy Host</key>
    </entry>
    <entry>
        <key>Proxy Port</key>
    </entry>
    <entry>
        <key>Proxy Type</key>
        <value>http</value>
    </entry>
    <entry>
        <key>invokehttp-proxy-user</key>
    </entry>
    <entry>
        <key>invokehttp-proxy-password</key>
    </entry>
    <entry>
        <key>Put Response Body In Attribute</key>
    </entry>
    <entry>
        <key>Max Length To Put In Attribute</key>
        <value>256</value>
    </entry>
    <entry>
        <key>Digest Authentication</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Always Output Response</key>
        <value>true</value>
    </entry>
    <entry>
        <key>Trusted Hostname</key>
        <value>api.ona.io</value>
    </entry>
    <entry>
        <key>Add Response Headers to Request</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Content-Type</key>
        <value>application/json</value>
    </entry>
    <entry>
        <key>send-message-body</key>
        <value>true</value>
    </entry>
    <entry>
        <key>Use Chunked Encoding</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Penalize on "No Retry"</key>
        <value>false</value>
    </entry>
    <entry>
        <key>use-etag</key>
        <value>false</value>
    </entry>
    <entry>
        <key>etag-max-cache-size</key>
        <value>10MB</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>GET flow results survey from API</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>Failure</name>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>No Retry</name>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>Original</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>Response</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>Retry</name>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.InvokeHTTP</type>
                        </processors>
                        <processors>
                            <id>28ca64e8-b052-3028-0000-000000000000</id>
                            <parentGroupId>f30b5c9a-d916-36bc-0000-000000000000</parentGroupId>
                            <position>
<x>23.116446855326956</x>
<y>-356.00000150204676</y>
                            </position>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.9.2</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments>Insert flow results survey JSON to survey attribute and response JSON to the response attribute and custom text.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>File Size</key>
        <value>
            <name>File Size</name>
        </value>
    </entry>
    <entry>
        <key>Batch Size</key>
        <value>
            <name>Batch Size</name>
        </value>
    </entry>
    <entry>
        <key>Data Format</key>
        <value>
            <name>Data Format</name>
        </value>
    </entry>
    <entry>
        <key>Unique FlowFiles</key>
        <value>
            <name>Unique FlowFiles</name>
        </value>
    </entry>
    <entry>
        <key>generate-ff-custom-text</key>
        <value>
            <name>generate-ff-custom-text</name>
        </value>
    </entry>
    <entry>
        <key>character-set</key>
        <value>
            <name>character-set</name>
        </value>
    </entry>
    <entry>
        <key>json_feed</key>
        <value>
            <name>json_feed</name>
        </value>
    </entry>
    <entry>
        <key>response</key>
        <value>
            <name>response</name>
        </value>
    </entry>
    <entry>
        <key>survey</key>
        <value>
            <name>survey</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>File Size</key>
        <value>0B</value>
    </entry>
    <entry>
        <key>Batch Size</key>
        <value>1</value>
    </entry>
    <entry>
        <key>Data Format</key>
        <value>Text</value>
    </entry>
    <entry>
        <key>Unique FlowFiles</key>
        <value>false</value>
    </entry>
    <entry>
        <key>generate-ff-custom-text</key>
        <value>{"data":{"type":"flow-results-data","id":"ddc6c9ed-a502-4736-b343-dbc6c661e289","attributes":{"responses":[["2019-05-29T13:43:52+00:00","980466493802704896","980466052636868608","980466053526614016","q_1555589635646_68",null,{}],["2019-05-29T13:44:18+00:00","980466603680886784","980466054553665536","980466058110988288","q_1555589635646_68",null,{}],["2019-05-29T13:45:56+00:00","980466871894044672","980466057741336576","980466062426927104","q_1555589635646_68","Yes",{}],["2019-05-29T13:45:31+00:00","980466888532848640","980466057800056832","980466062460481536","q_1555589635646_68",null,{}],["2019-05-29T13:46:13+00:00","980467059983413248","980466057741336576","980466062426927104","q_1555589729805_50","No",{}],["2019-05-29T13:47:39+00:00","980467296273723392","980466060081758208","980466063945265152","q_1555589635646_68",null,{}],["2019-05-29T13:48:51+00:00","980467607646269440","980466061197443072","980466064771543040","q_1555589635646_68","Yes",{}],["2019-05-29T13:49:31+00:00","980467735857754112","980466061759479808","980466065178390528","q_1555589635646_68","Call back later",{}],["2019-05-29T13:49:05+00:00","980467797044260864","980466061197443072","980466064771543040","q_1555589729805_50","Yes",{}],["2019-05-29T13:49:37+00:00","980467877298073600","980466061197443072","980466064771543040","q_1555589684531_13","Other",{}],["2019-05-29T13:50:06+00:00","980467888840798208","980466059398086656","980466063551000576","q_1555589635646_68","Yes",{}],["2019-05-29T13:50:41+00:00","980468053685334016","980466062787084288","980466065874644992","q_1555589635646_68","No",{}],["2019-05-29T13:50:52+00:00","980468080331747328","980466063302983680","980466066180829184","q_1555589635646_68","Call back later",{}],["2019-05-29T13:50:52+00:00","980468081283854336","980466064045375488","980466066625425408","q_1555589635646_68","No",{}],["2019-05-29T13:50:21+00:00","980468107523420160","980466059398086656","980466063551000576","q_1555589729805_50","Yes",{}],["2019-05-29T13:50:57+00:00","980468155120381952","980466064171204608","980466066709311488","q_1555589635646_68",null,{}],["2019-05-29T13:51:20+00:00","980468196979535872","980466059398086656","980466063551000576","q_1555589684531_13",null,{}],["2019-05-29T13:51:55+00:00","980468334468820992","980466065156866048","980466067380400128","q_1555589635646_68","Call back later",{}],["2019-05-29T13:52:12+00:00","980468421517406208","980466065794400256","980466067833384960","q_1555589635646_68","Call back later",{}],["2019-05-29T13:51:55+00:00","980468512001126400","980466066343854080","980466068210872320","q_1555589635646_68","No",{}],["2019-05-29T13:56:12+00:00","980469220771393536","980466071448322048","980466077618696192","q_1555589635646_68","Yes",{}],["2019-05-29T13:56:30+00:00","980469645885075456","980466071448322048","980466077618696192","q_1555589729805_50","No",{}],["2019-05-29T13:56:51+00:00","980469748725215232","980466071272161280","980466077501255680","q_1555589635646_68",null,{}],["2019-05-29T13:57:28+00:00","980469774864117760","980466073620971520","980466079061536768","q_1555589635646_68","Yes",{}],["2019-05-29T13:58:03+00:00","980469874562723840","980466074371751936","980466079585824768","q_1555589635646_68","No",{}],["2019-05-29T13:57:41+00:00","980469962605359104","980466073620971520","980466079061536768","q_1555589729805_50","Yes",{}],["2019-05-29T13:58:05+00:00","980470039818301440","980466073620971520","980466079061536768","q_1555589684531_13","Alaotra Mangoro",{}],["2019-05-29T13:58:40+00:00","980470065860734976","980466074690519040","980466079808122880","q_1555589635646_68","Yes",{}],["2019-05-29T13:58:14+00:00","980470090854592512","980466073620971520","980466079061536768","q_1556295096414_35","Ambatondrazaka",{}],["2019-05-29T13:58:27+00:00","980470126657171456","980466073620971520","980466079061536768","q_1557159306778_35","more than 15 years",{}],["2019-05-29T13:59:00+00:00","980470153584603136","980466073411256320","980466078918930432","q_1555589635646_68","Yes",{}],["2019-05-29T13:58:41+00:00","980470161046269952","980466075571322880","980466080399519744","q_1555589635646_68",null,{}],["2019-05-29T13:58:38+00:00","980470181631913984","980466073620971520","980466079061536768","q_1555589798758_43","18 or over",{}],["2019-05-29T13:58:45+00:00","980470225860849664","980466073620971520","980466079061536768","q_1555589835405_38","Male",{}],["2019-05-29T13:58:53+00:00","980470258995851264","980466073620971520","980466079061536768","q_1555589899730_30","rice",{}],["2019-05-29T13:58:58+00:00","980470264431669248","980466074690519040","980466079808122880","q_1555589729805_50","No",{}],["2019-05-29T13:59:09+00:00","980470292374122496","980466073620971520","980466079061536768","q_1556193457436_80","lot of damage",{}],["2019-05-29T13:59:15+00:00","980470348795899904","980466073411256320","980466078918930432","q_1555589729805_50","Yes",{}],["2019-05-29T13:59:27+00:00","980470358136614912","980466073620971520","980466079061536768","q_1556193523660_53","beginning of season",{}],["2019-05-29T13:59:40+00:00","980470430706462720","980466076208857088","980466080848310272","q_1555589635646_68",null,{}],["2019-05-29T13:59:43+00:00","980470434649108480","980466073620971520","980466079061536768","q_1556193555099_90","weed\/invasive species",{}],["2019-05-29T13:59:48+00:00","980470434837852160","980466073411256320","980466078918930432","q_1555589684531_13","Other",{}],["2019-05-29T14:00:10+00:00","980470436532350976","980466076049473536","980466080739258368","q_1555589635646_68",null,{}],["2019-05-29T14:00:08+00:00","980470500470321152","980466073620971520","980466079061536768","q_1556193638400_56","finding additional employment",{}],["2019-05-29T14:00:17+00:00","980470603960578048","980466073620971520","980466079061536768","q_1556193677062_43","Yes",{}],["2019-05-29T14:00:47+00:00","980470606691069952","980466077710417920","980466081888497664","q_1555589635646_68","Yes",{}],["2019-05-29T14:00:46+00:00","980470644909568000","980466073620971520","980466079061536768","q_1557160308649_83","finding additional employment",{}],["2019-05-29T14:01:00+00:00","980470765453864960","980466073620971520","980466079061536768","q_1556193739882_13","once ever 5 years",{}],["2019-05-29T14:01:08+00:00","980470798135881728","980466077710417920","980466081888497664","q_1555589729805_50","Yes",{}],["2019-05-29T14:01:17+00:00","980470822571896832","980466073620971520","980466079061536768","q_1557161266139_61","https:\/\/s3-us-west-2.amazonaws.com\/audioresponses.votomobile.org\/wav\/5cee909c5b5a54.59940451.wav",{"type":"audio","format":"audio\/wav"}],["2019-05-29T14:01:14+00:00","980470843862183936","980466078121459712","980466082177904640","q_1555589635646_68",null,{}],["2019-05-29T14:02:07+00:00","980470908429299712","980466077710417920","980466081888497664","q_1555589684531_13","Other",{}],["2019-05-29T14:02:26+00:00","980470988431454208","980466078889017344","980466082693804032","q_1555589635646_68","Yes",{}],["2019-05-29T14:02:35+00:00","980471053921316864","980466079996313600","980466083482333184","q_1555589635646_68","Yes",{}],["2019-05-29T14:02:44+00:00","980471212776386560","980466078889017344","980466082693804032","q_1555589729805_50","No",{}],["2019-05-29T14:02:49+00:00","980471252693577728","980466079996313600","980466083482333184","q_1555589729805_50","Yes",{}],["2019-05-29T14:03:22+00:00","980471332670566400","980466079996313600","980466083482333184","q_1555589684531_13","Other",{}],["2019-05-29T14:09:11+00:00","980472810915262464","980472593972723712","980472595537752064","q_1555589635646_68",null,{}],["2019-05-29T14:09:55+00:00","980472874907758592","980472593628790784","980472595353202688","q_1555589635646_68","Call back later",{}],["2019-05-29T14:10:01+00:00","980472926493503488","980472594547343360","980472596385001472","q_1555589635646_68","Yes",{}],["2019-05-29T14:10:29+00:00","980473043174846464","980472594845138944","980472596582133760","q_1555589635646_68","Yes",{}],["2019-05-29T14:10:45+00:00","980473082798436352","980472595268763648","980472596867346432","q_1555589635646_68","No",{}],["2019-05-29T14:10:15+00:00","980473123508350976","980472594547343360","980472596385001472","q_1555589729805_50","Yes",{}],["2019-05-29T14:10:57+00:00","980473134321266688","980472595981795328","980472597341302784","q_1555589635646_68","Yes",{}],["2019-05-29T14:11:01+00:00","980473187249188864","980472596556414976","980472597668458496","q_1555589635646_68","Yes",{}],["2019-05-29T14:10:49+00:00","980473203565031424","980472594547343360","980472596385001472","q_1555589684531_13","Alaotra Mangoro",{}],["2019-05-29T14:10:44+00:00","980473238709104640","980472594845138944","980472596582133760","q_1555589729805_50","Yes",{}],["2019-05-29T14:11:33+00:00","980473292530413568","980472594547343360","980472596385001472","q_1556295096414_35",null,{}],["2019-05-29T14:11:40+00:00","980473325581529088","980472597441413120","980472598339547136","q_1555589635646_68","Call back later",{}],["2019-05-29T14:11:12+00:00","980473326521053184","980472594845138944","980472596582133760","q_1555589684531_13","Alaotra Mangoro",{}],["2019-05-29T14:11:14+00:00","980473358531981312","980472595981795328","980472597341302784","q_1555589729805_50","Yes",{}],["2019-05-29T14:11:22+00:00","980473381382549504","980472596556414976","980472597668458496","q_1555589729805_50","Yes",{}],["2019-05-29T14:11:22+00:00","980473391763451904","980472594845138944","980472596582133760","q_1556295096414_35","Amparafaravola",{}],["2019-05-29T14:11:34+00:00","980473430405574656","980472594845138944","980472596582133760","q_1557159306778_35","less than 15 years",{}],["2019-05-29T14:11:48+00:00","980473452496973824","980472595981795328","980472597341302784","q_1555589684531_13","Other",{}],["2019-05-29T14:11:46+00:00","980473484319158272","980472594845138944","980472596582133760","q_1555589798758_43","18 or over",{}],["2019-05-29T14:11:52+00:00","980473486152069120","980472596556414976","980472597668458496","q_1555589684531_13","Other",{}],["2019-05-29T14:12:26+00:00","980473497673822208","980472597823094784","980472598733811712","q_1555589635646_68","Call back later",{}],["2019-05-29T14:11:56+00:00","980473533707087872","980472594845138944","980472596582133760","q_1555589835405_38","Male",{}],["2019-05-29T14:12:10+00:00","980473572558925824","980472594845138944","980472596582133760","q_1555589899730_30","rice",{}],["2019-05-29T14:12:53+00:00","980473624664764416","980472598863282176","980472599773999104","q_1555589635646_68","Call back later",{}],["2019-05-29T14:12:28+00:00","980473631811858432","980472594845138944","980472596582133760","q_1556193457436_80","does not affect crop",{}],["2019-05-29T14:12:48+00:00","980473710002073600","980472594845138944","980472596582133760","q_1556193523660_53","does not affect my crop",{}],["2019-05-29T14:13:29+00:00","980473774724378624","980472599228186624","980472600130514944","q_1555589635646_68","Call back later",{}],["2019-05-29T14:13:05+00:00","980473791530954752","980472594845138944","980472596582133760","q_1556193555099_90","lack of fertilizers or inputs",{}],["2019-05-29T14:13:21+00:00","980473864071442432","980472594845138944","980472596582133760","q_1556193638400_56","reduced food",{}],["2019-05-29T14:13:30+00:00","980473929070571520","980472594845138944","980472596582133760","q_1556193677062_43","Yes",{}],["2019-05-29T14:13:47+00:00","980473970929725440","980472594845138944","980472596582133760","q_1557160308649_83","reduced food",{}],["2019-05-29T14:14:28+00:00","980474024738451456","980472600842993664","980472601741127680","q_1555589635646_68","Call back later",{}],["2019-05-29T14:14:02+00:00","980474041054294016","980472594845138944","980472596582133760","q_1556193739882_13","once ever 5 years",{}],["2019-05-29T14:14:05+00:00","980474063825170432","980472599970578432","980472600868712448","q_1555589635646_68",null,{}],["2019-05-29T14:14:33+00:00","980474101846536192","980472594845138944","980472596582133760","q_1557161266139_61","https:\/\/s3-us-west-2.amazonaws.com\/audioresponses.votomobile.org\/wav\/5cee93aa346955.48047368.wav",{"type":"audio","format":"audio\/wav"}],["2019-05-29T14:15:30+00:00","980474312274767872","980472602487160832","980472603389489152","q_1555589635646_68",null,{}],["2019-05-29T14:16:26+00:00","980474518873600000","980472601694437376","980472602596765696","q_1555589635646_68","Yes",{}],["2019-05-29T14:18:06+00:00","980474612205252608","980472605112795136","980472606015123456","q_1555589635646_68",null,{}],["2019-05-29T14:17:04+00:00","980474642131611648","980472605465116672","980472606363250688","q_1555589635646_68","Yes",{}],["2019-05-29T14:17:13+00:00","980474703418781696","980472605045686272","980472605948014592","q_1555589635646_68","Call back later",{}],["2019-05-29T14:16:43+00:00","980474738680295424","980472601694437376","980472602596765696","q_1555589729805_50","Yes",{}],["2019-05-29T14:17:15+00:00","980474832758534144","980472601694437376","980472602596765696","q_1555589684531_13","Other",{}],["2019-05-29T14:17:19+00:00","980474896998494208","980472605465116672","980472606363250688","q_1555589729805_50","Yes",{}]]},"relationships":{"descriptor":{"links":{"self":"https:\/\/go.votomobile.org\/flow-results\/packages\/ddc6c9ed-a502-4736-b343-dbc6c661e289"}},"links":{"self":"https:\/\/go.votomobile.org\/flow-results\/packages\/ddc6c9ed-a502-4736-b343-dbc6c661e289\/responses?page%5Bsize%5D=100","next":"https:\/\/go.votomobile.org\/flow-results\/packages\/ddc6c9ed-a502-4736-b343-dbc6c661e289\/responses?page%5Bsize%5D=100&amp;page%5BafterCursor%5D=980474896998494208","previous":null}}}}</value>
    </entry>
    <entry>
        <key>character-set</key>
        <value>UTF-8</value>
    </entry>
    <entry>
        <key>json_feed</key>
        <value>true</value>
    </entry>
    <entry>
        <key>response</key>
        <value>{"data":{"type":"flow-results-data","id":"ddc6c9ed-a502-4736-b343-dbc6c661e289","attributes":{"responses":[["2019-05-29T13:43:52+00:00","980466493802704896","980466052636868608","980466053526614016","q_1555589635646_68",null,{}],["2019-05-29T13:44:18+00:00","980466603680886784","980466054553665536","980466058110988288","q_1555589635646_68",null,{}],["2019-05-29T13:45:56+00:00","980466871894044672","980466057741336576","980466062426927104","q_1555589635646_68","Yes",{}],["2019-05-29T13:45:31+00:00","980466888532848640","980466057800056832","980466062460481536","q_1555589635646_68",null,{}],["2019-05-29T13:46:13+00:00","980467059983413248","980466057741336576","980466062426927104","q_1555589729805_50","No",{}],["2019-05-29T13:47:39+00:00","980467296273723392","980466060081758208","980466063945265152","q_1555589635646_68",null,{}],["2019-05-29T13:48:51+00:00","980467607646269440","980466061197443072","980466064771543040","q_1555589635646_68","Yes",{}],["2019-05-29T13:49:31+00:00","980467735857754112","980466061759479808","980466065178390528","q_1555589635646_68","Call back later",{}],["2019-05-29T13:49:05+00:00","980467797044260864","980466061197443072","980466064771543040","q_1555589729805_50","Yes",{}],["2019-05-29T13:49:37+00:00","980467877298073600","980466061197443072","980466064771543040","q_1555589684531_13","Other",{}],["2019-05-29T13:50:06+00:00","980467888840798208","980466059398086656","980466063551000576","q_1555589635646_68","Yes",{}],["2019-05-29T13:50:41+00:00","980468053685334016","980466062787084288","980466065874644992","q_1555589635646_68","No",{}],["2019-05-29T13:50:52+00:00","980468080331747328","980466063302983680","980466066180829184","q_1555589635646_68","Call back later",{}],["2019-05-29T13:50:52+00:00","980468081283854336","980466064045375488","980466066625425408","q_1555589635646_68","No",{}],["2019-05-29T13:50:21+00:00","980468107523420160","980466059398086656","980466063551000576","q_1555589729805_50","Yes",{}],["2019-05-29T13:50:57+00:00","980468155120381952","980466064171204608","980466066709311488","q_1555589635646_68",null,{}],["2019-05-29T13:51:20+00:00","980468196979535872","980466059398086656","980466063551000576","q_1555589684531_13",null,{}],["2019-05-29T13:51:55+00:00","980468334468820992","980466065156866048","980466067380400128","q_1555589635646_68","Call back later",{}],["2019-05-29T13:52:12+00:00","980468421517406208","980466065794400256","980466067833384960","q_1555589635646_68","Call back later",{}],["2019-05-29T13:51:55+00:00","980468512001126400","980466066343854080","980466068210872320","q_1555589635646_68","No",{}],["2019-05-29T13:56:12+00:00","980469220771393536","980466071448322048","980466077618696192","q_1555589635646_68","Yes",{}],["2019-05-29T13:56:30+00:00","980469645885075456","980466071448322048","980466077618696192","q_1555589729805_50","No",{}],["2019-05-29T13:56:51+00:00","980469748725215232","980466071272161280","980466077501255680","q_1555589635646_68",null,{}],["2019-05-29T13:57:28+00:00","980469774864117760","980466073620971520","980466079061536768","q_1555589635646_68","Yes",{}],["2019-05-29T13:58:03+00:00","980469874562723840","980466074371751936","980466079585824768","q_1555589635646_68","No",{}],["2019-05-29T13:57:41+00:00","980469962605359104","980466073620971520","980466079061536768","q_1555589729805_50","Yes",{}],["2019-05-29T13:58:05+00:00","980470039818301440","980466073620971520","980466079061536768","q_1555589684531_13","Alaotra Mangoro",{}],["2019-05-29T13:58:40+00:00","980470065860734976","980466074690519040","980466079808122880","q_1555589635646_68","Yes",{}],["2019-05-29T13:58:14+00:00","980470090854592512","980466073620971520","980466079061536768","q_1556295096414_35","Ambatondrazaka",{}],["2019-05-29T13:58:27+00:00","980470126657171456","980466073620971520","980466079061536768","q_1557159306778_35","more than 15 years",{}],["2019-05-29T13:59:00+00:00","980470153584603136","980466073411256320","980466078918930432","q_1555589635646_68","Yes",{}],["2019-05-29T13:58:41+00:00","980470161046269952","980466075571322880","980466080399519744","q_1555589635646_68",null,{}],["2019-05-29T13:58:38+00:00","980470181631913984","980466073620971520","980466079061536768","q_1555589798758_43","18 or over",{}],["2019-05-29T13:58:45+00:00","980470225860849664","980466073620971520","980466079061536768","q_1555589835405_38","Male",{}],["2019-05-29T13:58:53+00:00","980470258995851264","980466073620971520","980466079061536768","q_1555589899730_30","rice",{}],["2019-05-29T13:58:58+00:00","980470264431669248","980466074690519040","980466079808122880","q_1555589729805_50","No",{}],["2019-05-29T13:59:09+00:00","980470292374122496","980466073620971520","980466079061536768","q_1556193457436_80","lot of damage",{}],["2019-05-29T13:59:15+00:00","980470348795899904","980466073411256320","980466078918930432","q_1555589729805_50","Yes",{}],["2019-05-29T13:59:27+00:00","980470358136614912","980466073620971520","980466079061536768","q_1556193523660_53","beginning of season",{}],["2019-05-29T13:59:40+00:00","980470430706462720","980466076208857088","980466080848310272","q_1555589635646_68",null,{}],["2019-05-29T13:59:43+00:00","980470434649108480","980466073620971520","980466079061536768","q_1556193555099_90","weed\/invasive species",{}],["2019-05-29T13:59:48+00:00","980470434837852160","980466073411256320","980466078918930432","q_1555589684531_13","Other",{}],["2019-05-29T14:00:10+00:00","980470436532350976","980466076049473536","980466080739258368","q_1555589635646_68",null,{}],["2019-05-29T14:00:08+00:00","980470500470321152","980466073620971520","980466079061536768","q_1556193638400_56","finding additional employment",{}],["2019-05-29T14:00:17+00:00","980470603960578048","980466073620971520","980466079061536768","q_1556193677062_43","Yes",{}],["2019-05-29T14:00:47+00:00","980470606691069952","980466077710417920","980466081888497664","q_1555589635646_68","Yes",{}],["2019-05-29T14:00:46+00:00","980470644909568000","980466073620971520","980466079061536768","q_1557160308649_83","finding additional employment",{}],["2019-05-29T14:01:00+00:00","980470765453864960","980466073620971520","980466079061536768","q_1556193739882_13","once ever 5 years",{}],["2019-05-29T14:01:08+00:00","980470798135881728","980466077710417920","980466081888497664","q_1555589729805_50","Yes",{}],["2019-05-29T14:01:17+00:00","980470822571896832","980466073620971520","980466079061536768","q_1557161266139_61","https:\/\/s3-us-west-2.amazonaws.com\/audioresponses.votomobile.org\/wav\/5cee909c5b5a54.59940451.wav",{"type":"audio","format":"audio\/wav"}],["2019-05-29T14:01:14+00:00","980470843862183936","980466078121459712","980466082177904640","q_1555589635646_68",null,{}],["2019-05-29T14:02:07+00:00","980470908429299712","980466077710417920","980466081888497664","q_1555589684531_13","Other",{}],["2019-05-29T14:02:26+00:00","980470988431454208","980466078889017344","980466082693804032","q_1555589635646_68","Yes",{}],["2019-05-29T14:02:35+00:00","980471053921316864","980466079996313600","980466083482333184","q_1555589635646_68","Yes",{}],["2019-05-29T14:02:44+00:00","980471212776386560","980466078889017344","980466082693804032","q_1555589729805_50","No",{}],["2019-05-29T14:02:49+00:00","980471252693577728","980466079996313600","980466083482333184","q_1555589729805_50","Yes",{}],["2019-05-29T14:03:22+00:00","980471332670566400","980466079996313600","980466083482333184","q_1555589684531_13","Other",{}],["2019-05-29T14:09:11+00:00","980472810915262464","980472593972723712","980472595537752064","q_1555589635646_68",null,{}],["2019-05-29T14:09:55+00:00","980472874907758592","980472593628790784","980472595353202688","q_1555589635646_68","Call back later",{}],["2019-05-29T14:10:01+00:00","980472926493503488","980472594547343360","980472596385001472","q_1555589635646_68","Yes",{}],["2019-05-29T14:10:29+00:00","980473043174846464","980472594845138944","980472596582133760","q_1555589635646_68","Yes",{}],["2019-05-29T14:10:45+00:00","980473082798436352","980472595268763648","980472596867346432","q_1555589635646_68","No",{}],["2019-05-29T14:10:15+00:00","980473123508350976","980472594547343360","980472596385001472","q_1555589729805_50","Yes",{}],["2019-05-29T14:10:57+00:00","980473134321266688","980472595981795328","980472597341302784","q_1555589635646_68","Yes",{}],["2019-05-29T14:11:01+00:00","980473187249188864","980472596556414976","980472597668458496","q_1555589635646_68","Yes",{}],["2019-05-29T14:10:49+00:00","980473203565031424","980472594547343360","980472596385001472","q_1555589684531_13","Alaotra Mangoro",{}],["2019-05-29T14:10:44+00:00","980473238709104640","980472594845138944","980472596582133760","q_1555589729805_50","Yes",{}],["2019-05-29T14:11:33+00:00","980473292530413568","980472594547343360","980472596385001472","q_1556295096414_35",null,{}],["2019-05-29T14:11:40+00:00","980473325581529088","980472597441413120","980472598339547136","q_1555589635646_68","Call back later",{}],["2019-05-29T14:11:12+00:00","980473326521053184","980472594845138944","980472596582133760","q_1555589684531_13","Alaotra Mangoro",{}],["2019-05-29T14:11:14+00:00","980473358531981312","980472595981795328","980472597341302784","q_1555589729805_50","Yes",{}],["2019-05-29T14:11:22+00:00","980473381382549504","980472596556414976","980472597668458496","q_1555589729805_50","Yes",{}],["2019-05-29T14:11:22+00:00","980473391763451904","980472594845138944","980472596582133760","q_1556295096414_35","Amparafaravola",{}],["2019-05-29T14:11:34+00:00","980473430405574656","980472594845138944","980472596582133760","q_1557159306778_35","less than 15 years",{}],["2019-05-29T14:11:48+00:00","980473452496973824","980472595981795328","980472597341302784","q_1555589684531_13","Other",{}],["2019-05-29T14:11:46+00:00","980473484319158272","980472594845138944","980472596582133760","q_1555589798758_43","18 or over",{}],["2019-05-29T14:11:52+00:00","980473486152069120","980472596556414976","980472597668458496","q_1555589684531_13","Other",{}],["2019-05-29T14:12:26+00:00","980473497673822208","980472597823094784","980472598733811712","q_1555589635646_68","Call back later",{}],["2019-05-29T14:11:56+00:00","980473533707087872","980472594845138944","980472596582133760","q_1555589835405_38","Male",{}],["2019-05-29T14:12:10+00:00","980473572558925824","980472594845138944","980472596582133760","q_1555589899730_30","rice",{}],["2019-05-29T14:12:53+00:00","980473624664764416","980472598863282176","980472599773999104","q_1555589635646_68","Call back later",{}],["2019-05-29T14:12:28+00:00","980473631811858432","980472594845138944","980472596582133760","q_1556193457436_80","does not affect crop",{}],["2019-05-29T14:12:48+00:00","980473710002073600","980472594845138944","980472596582133760","q_1556193523660_53","does not affect my crop",{}],["2019-05-29T14:13:29+00:00","980473774724378624","980472599228186624","980472600130514944","q_1555589635646_68","Call back later",{}],["2019-05-29T14:13:05+00:00","980473791530954752","980472594845138944","980472596582133760","q_1556193555099_90","lack of fertilizers or inputs",{}],["2019-05-29T14:13:21+00:00","980473864071442432","980472594845138944","980472596582133760","q_1556193638400_56","reduced food",{}],["2019-05-29T14:13:30+00:00","980473929070571520","980472594845138944","980472596582133760","q_1556193677062_43","Yes",{}],["2019-05-29T14:13:47+00:00","980473970929725440","980472594845138944","980472596582133760","q_1557160308649_83","reduced food",{}],["2019-05-29T14:14:28+00:00","980474024738451456","980472600842993664","980472601741127680","q_1555589635646_68","Call back later",{}],["2019-05-29T14:14:02+00:00","980474041054294016","980472594845138944","980472596582133760","q_1556193739882_13","once ever 5 years",{}],["2019-05-29T14:14:05+00:00","980474063825170432","980472599970578432","980472600868712448","q_1555589635646_68",null,{}],["2019-05-29T14:14:33+00:00","980474101846536192","980472594845138944","980472596582133760","q_1557161266139_61","https:\/\/s3-us-west-2.amazonaws.com\/audioresponses.votomobile.org\/wav\/5cee93aa346955.48047368.wav",{"type":"audio","format":"audio\/wav"}],["2019-05-29T14:15:30+00:00","980474312274767872","980472602487160832","980472603389489152","q_1555589635646_68",null,{}],["2019-05-29T14:16:26+00:00","980474518873600000","980472601694437376","980472602596765696","q_1555589635646_68","Yes",{}],["2019-05-29T14:18:06+00:00","980474612205252608","980472605112795136","980472606015123456","q_1555589635646_68",null,{}],["2019-05-29T14:17:04+00:00","980474642131611648","980472605465116672","980472606363250688","q_1555589635646_68","Yes",{}],["2019-05-29T14:17:13+00:00","980474703418781696","980472605045686272","980472605948014592","q_1555589635646_68","Call back later",{}],["2019-05-29T14:16:43+00:00","980474738680295424","980472601694437376","980472602596765696","q_1555589729805_50","Yes",{}],["2019-05-29T14:17:15+00:00","980474832758534144","980472601694437376","980472602596765696","q_1555589684531_13","Other",{}],["2019-05-29T14:17:19+00:00","980474896998494208","980472605465116672","980472606363250688","q_1555589729805_50","Yes",{}]]},"relationships":{"descriptor":{"links":{"self":"https:\/\/go.votomobile.org\/flow-results\/packages\/ddc6c9ed-a502-4736-b343-dbc6c661e289"}},"links":{"self":"https:\/\/go.votomobile.org\/flow-results\/packages\/ddc6c9ed-a502-4736-b343-dbc6c661e289\/responses?page%5Bsize%5D=100","next":"https:\/\/go.votomobile.org\/flow-results\/packages\/ddc6c9ed-a502-4736-b343-dbc6c661e289\/responses?page%5Bsize%5D=100&amp;page%5BafterCursor%5D=980474896998494208","previous":null}}}}</value>
    </entry>
    <entry>
        <key>survey</key>
        <value>{"links":{"self":"https:\/\/go.votomobile.org\/flow-results\/packages\/ddc6c9ed-a502-4736-b343-dbc6c661e289"},"data":{"type":"packages","id":"ddc6c9ed-a502-4736-b343-dbc6c661e289","attributes":{"profile":"flow-results-package","name":"v3_live_mg_drought_food_security_130619","flow-results-specification":"1.0.0-rc1","created":"2019-05-29T13:36:27+00:00","modified":"2019-06-13T13:52:11+00:00","id":"ddc6c9ed-a502-4736-b343-dbc6c661e289","title":"V3 LIVE_MG Drought &amp; Food Security 13.06.19","resources":[{"profile":"data-resource","name":"v3_live_mg_drought_food_security_130619-data","path":null,"api-data-url":"https:\/\/go.votomobile.org\/flow-results\/packages\/ddc6c9ed-a502-4736-b343-dbc6c661e289\/resources","mediatype":"application\/vnd.api+json","encoding":"utf-8","schema":{"language":"eng","fields":[{"name":"timestamp","title":"Timestamp","type":"datetime"},{"name":"row_id","title":"Row ID","type":"string"},{"name":"contact_id","title":"Contact ID","type":"string"},{"name":"session_id","title":"Session ID","type":"string"},{"name":"question_id","title":"Question ID","type":"string"},{"name":"response","title":"Response","type":"any"},{"name":"response_metadata","title":"Response Metadata","type":"object"}],"questions":{"q_1555589635646_68":{"type":"select_one","label":"Introduction","type_options":{"choices":["Yes","No","Call back later"]}},"q_1555589684531_13":{"type":"select_one","label":"Region","type_options":{"choices":["Alaotra Mangoro","Atsimo Atsinanana","Boeny","Grand Sud","Other"]}},"q_1555589729805_50":{"type":"select_one","label":"eligibility- Is farming your primary source of income?","type_options":{"choices":["Yes","No"]}},"q_1555589798758_43":{"type":"select_one","label":"Q2- What is your age?","type_options":{"choices":["17 or under","18 or over"]}},"q_1555589835405_38":{"type":"select_one","label":"Q3- What is your gender?","type_options":{"choices":["Female","Male"]}},"q_1555589899730_30":{"type":"select_one","label":"Q4- What is the most important crop you grow for your livelihood?","type_options":{"choices":["rice","cassava","maize","other"]}},"q_1556193457436_80":{"type":"select_one","label":"Q5- How does low rainfall affect your most important crop?","type_options":{"choices":["lot of damage","some damage","does not affect crop","not sure"]}},"q_1556193523660_53":{"type":"select_one","label":"Q6- When does low rainfall damage your crop production the most?","type_options":{"choices":["beginning of season","throughout the season","does not affect my crop","not sure"]}},"q_1556193555099_90":{"type":"select_one","label":"Q7-What caused the greatest damage to your crops not related to low rainfall?","type_options":{"choices":["flood","lack of fertilizers or inputs","weed\/invasive species","other","n\/a"]}},"q_1556193638400_56":{"type":"select_one","label":"Q8- What has been the biggest negative impact of rainfall shortage on your household?","type_options":{"choices":["reduced food","sold our belongings","finding additional employment","take out loan","migrate and leave home","other"]}},"q_1556193677062_43":{"type":"select_one","label":"Q8_a- Would you like to share any other negative impact of rainfall shortage on your household?","type_options":{"choices":["Yes","No"]}},"q_1556193739882_13":{"type":"select_one","label":"Q9- How often do you experience rainfall deficit?","type_options":{"choices":["once every 10 years","once ever 5 years","once every 3 years","once every other year","don't know"]}},"q_1556295096414_35":{"type":"select_one","label":"district_1","type_options":{"choices":["Ambatondrazaka","Amparafaravola"]}},"q_1556295390881_89":{"type":"select_one","label":"district_2","type_options":{"choices":["Farafangana","Vangaindrano"]}},"q_1557140913265_58":{"type":"select_one","label":"district_3","type_options":{"choices":["Mitsinijo","Marovay"]}},"q_1557159306778_35":{"type":"select_one","label":"Q1- How long have you lived in this district?","type_options":{"choices":["less than 5 years","less than 15 years","more than 15 years"]}},"q_1557160308649_83":{"type":"select_one","label":"Q8_b- What has been the biggest negative impact of rainfall shortage on your household?","type_options":{"choices":["reduced food","sold our belongings","finding additional employment","take out loan","migrate and leave home","other"]}},"q_1557160656801_28":{"type":"select_one","label":"Q10- In the last 15 years, which 3 years do you remember there being severe rainfall shortage?","type_options":{"choices":["2004 -2007","2008 - 2011","2012-2015","2016-2019","don't know"]}},"q_1557160854704_39":{"type":"select_one","label":"Q11_a","type_options":{"choices":["2004","2005","2006","2007"]}},"q_1557160893212_84":{"type":"select_one","label":"Q11_b","type_options":{"choices":["2008","2009","2010","2011"]}},"q_1557160924691_19":{"type":"select_one","label":"Q11_c","type_options":{"choices":["2012","2013","2014","2015"]}},"q_1557160955434_98":{"type":"select_one","label":"Q11_d","type_options":{"choices":["2016","2017","2018","2019"]}},"q_1557161266139_61":{"type":"open","label":"Q16- In the last 15 years, which 3 years do you remember there being severe rainfall shortage?","type_options":{}},"q_1557161379181_63":{"type":"select_one","label":"Q12- Do you remember another year with severe rainfall shortage?","type_options":{"choices":["Yes","No"]}},"q_1557161513897_97":{"type":"select_one","label":"Q13- In the last 15 years, which 3 years do you remember there being severe rainfall shortage?","type_options":{"choices":["2004 -2007","2008 - 2011","2012-2015","2016-2019","don't know"]}},"q_1557161612186_59":{"type":"select_one","label":"Q13_a","type_options":{"choices":["2004","2005","2006","2007"]}},"q_1557161628936_73":{"type":"select_one","label":"Q13_b","type_options":{"choices":["2008","2009","2010","2011"]}},"q_1557161651943_86":{"type":"select_one","label":"Q13_c","type_options":{"choices":["2012","2013","2014","2015"]}},"q_1557161674568_54":{"type":"select_one","label":"Q13_d","type_options":{"choices":["2016","2017","2018","2019"]}},"q_1557161767788_27":{"type":"select_one","label":"Q14- Do you remember another year with severe rainfall shortage?","type_options":{"choices":["Yes","No"]}},"q_1557162352639_23":{"type":"select_one","label":"Q15- In the last 15 years, which 3 years do you remember there being severe rainfall shortage?","type_options":{"choices":["2004 -2007","2008 - 2011","2012-2015","2016-2019","don't know"]}},"q_1557163035598_50":{"type":"select_one","label":"Q15_a","type_options":{"choices":["2004","2005","2006","2007"]}},"q_1557163077385_26":{"type":"select_one","label":"Q15_b","type_options":{"choices":["2008","2009","2010","2011"]}},"q_1557163132992_44":{"type":"select_one","label":"Q15_c","type_options":{"choices":["2012","2013","2014","2015"]}},"q_1557163295704_24":{"type":"select_one","label":"Q15_d","type_options":{"choices":["2016","2017","2018","2019"]}}}}}]}},"relationships":{"responses":{"links":{"related":"https:\/\/go.votomobile.org\/flow-results\/packages\/ddc6c9ed-a502-4736-b343-dbc6c661e289\/responses"}}}}</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>10000 days</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Flow results JSON</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.GenerateFlowFile</type>
                        </processors>
                        <processors>
                            <id>3ad510eb-ff5a-3aae-0000-000000000000</id>
                            <parentGroupId>f30b5c9a-d916-36bc-0000-000000000000</parentGroupId>
                            <position>
<x>546.8867528428086</x>
<y>215.2626012395374</y>
                            </position>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.9.2</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Character Set</key>
        <value>
            <name>Character Set</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Buffer Size</key>
        <value>
            <name>Maximum Buffer Size</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Capture Group Length</key>
        <value>
            <name>Maximum Capture Group Length</name>
        </value>
    </entry>
    <entry>
        <key>Enable Canonical Equivalence</key>
        <value>
            <name>Enable Canonical Equivalence</name>
        </value>
    </entry>
    <entry>
        <key>Enable Case-insensitive Matching</key>
        <value>
            <name>Enable Case-insensitive Matching</name>
        </value>
    </entry>
    <entry>
        <key>Permit Whitespace and Comments in Pattern</key>
        <value>
            <name>Permit Whitespace and Comments in Pattern</name>
        </value>
    </entry>
    <entry>
        <key>Enable DOTALL Mode</key>
        <value>
            <name>Enable DOTALL Mode</name>
        </value>
    </entry>
    <entry>
        <key>Enable Literal Parsing of the Pattern</key>
        <value>
            <name>Enable Literal Parsing of the Pattern</name>
        </value>
    </entry>
    <entry>
        <key>Enable Multiline Mode</key>
        <value>
            <name>Enable Multiline Mode</name>
        </value>
    </entry>
    <entry>
        <key>Enable Unicode-aware Case Folding</key>
        <value>
            <name>Enable Unicode-aware Case Folding</name>
        </value>
    </entry>
    <entry>
        <key>Enable Unicode Predefined Character Classes</key>
        <value>
            <name>Enable Unicode Predefined Character Classes</name>
        </value>
    </entry>
    <entry>
        <key>Enable Unix Lines Mode</key>
        <value>
            <name>Enable Unix Lines Mode</name>
        </value>
    </entry>
    <entry>
        <key>Include Capture Group 0</key>
        <value>
            <name>Include Capture Group 0</name>
        </value>
    </entry>
    <entry>
        <key>extract-text-enable-repeating-capture-group</key>
        <value>
            <name>extract-text-enable-repeating-capture-group</name>
        </value>
    </entry>
    <entry>
        <key>survey</key>
        <value>
            <name>survey</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Character Set</key>
        <value>UTF-8</value>
    </entry>
    <entry>
        <key>Maximum Buffer Size</key>
        <value>10 MB</value>
    </entry>
    <entry>
        <key>Maximum Capture Group Length</key>
        <value>10240</value>
    </entry>
    <entry>
        <key>Enable Canonical Equivalence</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Case-insensitive Matching</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Permit Whitespace and Comments in Pattern</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable DOTALL Mode</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Literal Parsing of the Pattern</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Multiline Mode</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Unicode-aware Case Folding</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Unicode Predefined Character Classes</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Unix Lines Mode</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Include Capture Group 0</key>
        <value>true</value>
    </entry>
    <entry>
        <key>extract-text-enable-repeating-capture-group</key>
        <value>false</value>
    </entry>
    <entry>
        <key>survey</key>
        <value>(?s)(^.*$)</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Set the survey JSON as an attribute</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>matched</name>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>unmatched</name>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ExtractText</type>
                        </processors>
                        <processors>
                            <id>3d830bfb-9eca-3b02-0000-000000000000</id>
                            <parentGroupId>f30b5c9a-d916-36bc-0000-000000000000</parentGroupId>
                            <position>
<x>546.8867528428086</x>
<y>-165.87774095330587</y>
                            </position>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.9.2</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Destination</key>
        <value>
            <name>Destination</name>
        </value>
    </entry>
    <entry>
        <key>Return Type</key>
        <value>
            <name>Return Type</name>
        </value>
    </entry>
    <entry>
        <key>Path Not Found Behavior</key>
        <value>
            <name>Path Not Found Behavior</name>
        </value>
    </entry>
    <entry>
        <key>Null Value Representation</key>
        <value>
            <name>Null Value Representation</name>
        </value>
    </entry>
    <entry>
        <key>base_url</key>
        <value>
            <name>base_url</name>
        </value>
    </entry>
    <entry>
        <key>form_uuid</key>
        <value>
            <name>form_uuid</name>
        </value>
    </entry>
    <entry>
        <key>table_name</key>
        <value>
            <name>table_name</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Destination</key>
        <value>flowfile-attribute</value>
    </entry>
    <entry>
        <key>Return Type</key>
        <value>auto-detect</value>
    </entry>
    <entry>
        <key>Path Not Found Behavior</key>
        <value>ignore</value>
    </entry>
    <entry>
        <key>Null Value Representation</key>
        <value>empty string</value>
    </entry>
    <entry>
        <key>base_url</key>
        <value>$.base_url</value>
    </entry>
    <entry>
        <key>form_uuid</key>
        <value>$.form_uuid</value>
    </entry>
    <entry>
        <key>table_name</key>
        <value>$.table_name</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Set the config details as attributes</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>matched</name>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>unmatched</name>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.EvaluateJsonPath</type>
                        </processors>
                        <processors>
                            <id>54f3c11e-6ddb-33a6-0000-000000000000</id>
                            <parentGroupId>f30b5c9a-d916-36bc-0000-000000000000</parentGroupId>
                            <position>
<x>23.116446855326956</x>
<y>27.35635620513699</y>
                            </position>
                            <bundle>
<artifact>nifi-kite-nar</artifact>
<group>org.apache.nifi</group>
<version>1.9.2</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Hadoop configuration files</key>
        <value>
            <name>Hadoop configuration files</name>
        </value>
    </entry>
    <entry>
        <key>Record schema</key>
        <value>
            <name>Record schema</name>
        </value>
    </entry>
    <entry>
        <key>kite-compression-type</key>
        <value>
            <name>kite-compression-type</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Hadoop configuration files</key>
    </entry>
    <entry>
        <key>Record schema</key>
        <value>${inferred.avro.schema}</value>
    </entry>
    <entry>
        <key>kite-compression-type</key>
        <value>NONE</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>ConvertJSONToAvro</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>incompatible</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.kite.ConvertJSONToAvro</type>
                        </processors>
                        <processors>
                            <id>be38910a-8e8b-3c3d-0000-000000000000</id>
                            <parentGroupId>f30b5c9a-d916-36bc-0000-000000000000</parentGroupId>
                            <position>
<x>23.116446855326956</x>
<y>-166.3007482870505</y>
                            </position>
                            <bundle>
<artifact>nifi-kite-nar</artifact>
<group>org.apache.nifi</group>
<version>1.9.2</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Schema Output Destination</key>
        <value>
            <name>Schema Output Destination</name>
        </value>
    </entry>
    <entry>
        <key>Input Content Type</key>
        <value>
            <name>Input Content Type</name>
        </value>
    </entry>
    <entry>
        <key>CSV Header Definition</key>
        <value>
            <name>CSV Header Definition</name>
        </value>
    </entry>
    <entry>
        <key>Get CSV Header Definition From Data</key>
        <value>
            <name>Get CSV Header Definition From Data</name>
        </value>
    </entry>
    <entry>
        <key>CSV Header Line Skip Count</key>
        <value>
            <name>CSV Header Line Skip Count</name>
        </value>
    </entry>
    <entry>
        <key>CSV delimiter</key>
        <value>
            <name>CSV delimiter</name>
        </value>
    </entry>
    <entry>
        <key>CSV Escape String</key>
        <value>
            <name>CSV Escape String</name>
        </value>
    </entry>
    <entry>
        <key>CSV Quote String</key>
        <value>
            <name>CSV Quote String</name>
        </value>
    </entry>
    <entry>
        <key>Pretty Avro Output</key>
        <value>
            <name>Pretty Avro Output</name>
        </value>
    </entry>
    <entry>
        <key>Avro Record Name</key>
        <value>
            <name>Avro Record Name</name>
        </value>
    </entry>
    <entry>
        <key>Number Of Records To Analyze</key>
        <value>
            <name>Number Of Records To Analyze</name>
        </value>
    </entry>
    <entry>
        <key>Charset</key>
        <value>
            <name>Charset</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Schema Output Destination</key>
        <value>flowfile-attribute</value>
    </entry>
    <entry>
        <key>Input Content Type</key>
        <value>json</value>
    </entry>
    <entry>
        <key>CSV Header Definition</key>
    </entry>
    <entry>
        <key>Get CSV Header Definition From Data</key>
        <value>true</value>
    </entry>
    <entry>
        <key>CSV Header Line Skip Count</key>
        <value>0</value>
    </entry>
    <entry>
        <key>CSV delimiter</key>
        <value>,</value>
    </entry>
    <entry>
        <key>CSV Escape String</key>
        <value>\</value>
    </entry>
    <entry>
        <key>CSV Quote String</key>
        <value>'</value>
    </entry>
    <entry>
        <key>Pretty Avro Output</key>
        <value>true</value>
    </entry>
    <entry>
        <key>Avro Record Name</key>
        <value>test</value>
    </entry>
    <entry>
        <key>Number Of Records To Analyze</key>
        <value>10</value>
    </entry>
    <entry>
        <key>Charset</key>
        <value>UTF-8</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>InferAvroSchema</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>original</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>unsupported content</name>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.kite.InferAvroSchema</type>
                        </processors>
                        <processors>
                            <id>c4c54a5d-7ec7-3b09-0000-000000000000</id>
                            <parentGroupId>f30b5c9a-d916-36bc-0000-000000000000</parentGroupId>
                            <position>
<x>23.116446855326956</x>
<y>416.17221313873074</y>
                            </position>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.9.2</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Directory</key>
        <value>
            <name>Directory</name>
        </value>
    </entry>
    <entry>
        <key>Conflict Resolution Strategy</key>
        <value>
            <name>Conflict Resolution Strategy</name>
        </value>
    </entry>
    <entry>
        <key>Create Missing Directories</key>
        <value>
            <name>Create Missing Directories</name>
        </value>
    </entry>
    <entry>
        <key>Maximum File Count</key>
        <value>
            <name>Maximum File Count</name>
        </value>
    </entry>
    <entry>
        <key>Last Modified Time</key>
        <value>
            <name>Last Modified Time</name>
        </value>
    </entry>
    <entry>
        <key>Permissions</key>
        <value>
            <name>Permissions</name>
        </value>
    </entry>
    <entry>
        <key>Owner</key>
        <value>
            <name>Owner</name>
        </value>
    </entry>
    <entry>
        <key>Group</key>
        <value>
            <name>Group</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Directory</key>
        <value>avro</value>
    </entry>
    <entry>
        <key>Conflict Resolution Strategy</key>
        <value>replace</value>
    </entry>
    <entry>
        <key>Create Missing Directories</key>
        <value>true</value>
    </entry>
    <entry>
        <key>Maximum File Count</key>
    </entry>
    <entry>
        <key>Last Modified Time</key>
    </entry>
    <entry>
        <key>Permissions</key>
    </entry>
    <entry>
        <key>Owner</key>
    </entry>
    <entry>
        <key>Group</key>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Store AVRO file on disk</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.PutFile</type>
                        </processors>
                        <processors>
                            <id>d1a41c81-8a56-3c88-0000-000000000000</id>
                            <parentGroupId>f30b5c9a-d916-36bc-0000-000000000000</parentGroupId>
                            <position>
<x>546.8867528428086</x>
<y>-350.3261357286965</y>
                            </position>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.9.2</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>File Size</key>
        <value>
            <name>File Size</name>
        </value>
    </entry>
    <entry>
        <key>Batch Size</key>
        <value>
            <name>Batch Size</name>
        </value>
    </entry>
    <entry>
        <key>Data Format</key>
        <value>
            <name>Data Format</name>
        </value>
    </entry>
    <entry>
        <key>Unique FlowFiles</key>
        <value>
            <name>Unique FlowFiles</name>
        </value>
    </entry>
    <entry>
        <key>generate-ff-custom-text</key>
        <value>
            <name>generate-ff-custom-text</name>
        </value>
    </entry>
    <entry>
        <key>character-set</key>
        <value>
            <name>character-set</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>File Size</key>
        <value>0B</value>
    </entry>
    <entry>
        <key>Batch Size</key>
        <value>1</value>
    </entry>
    <entry>
        <key>Data Format</key>
        <value>Text</value>
    </entry>
    <entry>
        <key>Unique FlowFiles</key>
        <value>false</value>
    </entry>
    <entry>
        <key>generate-ff-custom-text</key>
        <value>{
  "form_uuid": "b91bc28ee6584a3d8b0f92a6c22d16f5",
  "table_name": "pizza_survey",
  "base_url": "https://api.ona.io/api/v1"	
}</value>
    </entry>
    <entry>
        <key>character-set</key>
        <value>UTF-8</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>180 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>API configuration for flow results</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
                            </relationships>
                            <state>STOPPED</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.GenerateFlowFile</type>
                        </processors>
                    </contents>
                    <name>API Pull and JSON feed</name>
                    <variables/>
                </processGroups>
                <processors>
                    <id>00d66e39-264f-3da9-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <position>
                        <x>488.63478004152637</x>
                        <y>1257.2727136611938</y>
                    </position>
                    <bundle>
                        <artifact>nifi-scripting-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.9.2</version>
                    </bundle>
                    <config>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Script Engine</key>
<value>
    <name>Script Engine</name>
</value>
                            </entry>
                            <entry>
<key>Script File</key>
<value>
    <name>Script File</name>
</value>
                            </entry>
                            <entry>
<key>Script Body</key>
<value>
    <name>Script Body</name>
</value>
                            </entry>
                            <entry>
<key>Module Directory</key>
<value>
    <name>Module Directory</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Script Engine</key>
<value>python</value>
                            </entry>
                            <entry>
<key>Script File</key>
                            </entry>
                            <entry>
<key>Script Body</key>
<value>"""
Transforms flow results format data from Ona API and creates a flattened
list of submissions as a dictionary.
"""
import json
import re
JYTHON_AVAILABLE = True

try:
    # This is used in the NiFi ExecuteScript context
    import java.io  # pylint: disable=unused-import
    from java.nio.charset import StandardCharsets
    from org.apache.commons.io import IOUtils
    from org.apache.nifi.processor.io import StreamCallback
except ImportError:
    JYTHON_AVAILABLE = False
    print "Skipping Jython imports"

# pylint: disable = redefined-outer-name
def transform_flow_results(data, submission_id, long_field_names_map):
    """
    Funtion to format flow results package data to flattened JSON for each
    submission and return a list of dictionaries.
    """
    transformed_data = {"submission_uuid": submission_id}

    for i in data:
        transformed_data[long_field_names_map.get(i[4]) or i[4]] = i[5]

    return transformed_data

if JYTHON_AVAILABLE:
    # pylint:disable=too-few-public-methods,invalid-name,no-self-use
    class PyStreamCallback(StreamCallback):
        """
        Class to handle flowFile stream maninpulation.
        """
        def __init__(self):
            pass

        def process(self, inputStream, outputStream):  # noqa
            """
            Takes a flowfile as an input and outputs the transform flowfile
            """
            text = IOUtils.toString(inputStream, StandardCharsets.UTF_8)  # noqa
            data = json.loads("[{}]".format(text))
            transformed_data = transform_flow_results(data,
                                                      submission_id,
                                                      long_field_names_map)

            outputStream.write(
                bytearray(json.dumps(transformed_data, indent=4).
                          encode('utf-8')))

    # session is provided by the NiFi ExecuteScript context
    # pylint:disable=undefined-variable
    flowFile = session.get()  # noqa

    if flowFile is not None:
        long_field_names_map = json.loads(
            flowFile.getAttribute("long_field_names_map"))
        submission_id = flowFile.getAttribute("submission_id")
        flowFile = session.putAttribute(flowFile, 'Content-Type',
                                        'application/json')
        flowFile = session.putAttribute(flowFile, 'mime.type',
                                        'application/json')
        session.write(flowFile, PyStreamCallback())
        session.transfer(flowFile, REL_SUCCESS)  # noqa</value>
                            </entry>
                            <entry>
<key>Module Directory</key>
                            </entry>
                        </properties>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Transform flow responses into dictionary</name>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>failure</name>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                    </relationships>
                    <state>STOPPED</state>
                    <style/>
                    <type>org.apache.nifi.processors.script.ExecuteScript</type>
                </processors>
                <processors>
                    <id>08eb3e21-882e-37f4-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <position>
                        <x>1131.650957800558</x>
                        <y>407.212575201371</y>
                    </position>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.9.2</version>
                    </bundle>
                    <config>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Regular Expression</key>
<value>
    <name>Regular Expression</name>
</value>
                            </entry>
                            <entry>
<key>Replacement Value</key>
<value>
    <name>Replacement Value</name>
</value>
                            </entry>
                            <entry>
<key>Character Set</key>
<value>
    <name>Character Set</name>
</value>
                            </entry>
                            <entry>
<key>Maximum Buffer Size</key>
<value>
    <name>Maximum Buffer Size</name>
</value>
                            </entry>
                            <entry>
<key>Replacement Strategy</key>
<value>
    <name>Replacement Strategy</name>
</value>
                            </entry>
                            <entry>
<key>Evaluation Mode</key>
<value>
    <name>Evaluation Mode</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Regular Expression</key>
<value>(?s)(^.*$)</value>
                            </entry>
                            <entry>
<key>Replacement Value</key>
<value>{"data": {"responses": ${json_feed}}}</value>
                            </entry>
                            <entry>
<key>Character Set</key>
<value>UTF-8</value>
                            </entry>
                            <entry>
<key>Maximum Buffer Size</key>
<value>1 MB</value>
                            </entry>
                            <entry>
<key>Replacement Strategy</key>
<value>Regex Replace</value>
                            </entry>
                            <entry>
<key>Evaluation Mode</key>
<value>Entire text</value>
                            </entry>
                        </properties>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Set JSON feed as flowFile content</name>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>failure</name>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                    </relationships>
                    <state>STOPPED</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.ReplaceText</type>
                </processors>
                <processors>
                    <id>098c1365-e13a-3b76-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <position>
                        <x>488.1294736259571</x>
                        <y>649.8224061036441</y>
                    </position>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.9.2</version>
                    </bundle>
                    <config>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>JsonPath Expression</key>
<value>
    <name>JsonPath Expression</name>
</value>
                            </entry>
                            <entry>
<key>Null Value Representation</key>
<value>
    <name>Null Value Representation</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>JsonPath Expression</key>
<value>$.data.responses</value>
                            </entry>
                            <entry>
<key>Null Value Representation</key>
<value>empty string</value>
                            </entry>
                        </properties>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Split submissions rows</name>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>failure</name>
                    </relationships>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>original</name>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>split</name>
                    </relationships>
                    <state>STOPPED</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.SplitJson</type>
                </processors>
                <processors>
                    <id>20de9079-f108-3149-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <position>
                        <x>488.21498405153704</x>
                        <y>1075.064840126038</y>
                    </position>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.9.2</version>
                    </bundle>
                    <config>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Merge Strategy</key>
<value>
    <name>Merge Strategy</name>
</value>
                            </entry>
                            <entry>
<key>Merge Format</key>
<value>
    <name>Merge Format</name>
</value>
                            </entry>
                            <entry>
<key>Attribute Strategy</key>
<value>
    <name>Attribute Strategy</name>
</value>
                            </entry>
                            <entry>
<key>Correlation Attribute Name</key>
<value>
    <name>Correlation Attribute Name</name>
</value>
                            </entry>
                            <entry>
<key>mergecontent-metadata-strategy</key>
<value>
    <name>mergecontent-metadata-strategy</name>
</value>
                            </entry>
                            <entry>
<key>Minimum Number of Entries</key>
<value>
    <name>Minimum Number of Entries</name>
</value>
                            </entry>
                            <entry>
<key>Maximum Number of Entries</key>
<value>
    <name>Maximum Number of Entries</name>
</value>
                            </entry>
                            <entry>
<key>Minimum Group Size</key>
<value>
    <name>Minimum Group Size</name>
</value>
                            </entry>
                            <entry>
<key>Maximum Group Size</key>
<value>
    <name>Maximum Group Size</name>
</value>
                            </entry>
                            <entry>
<key>Max Bin Age</key>
<value>
    <name>Max Bin Age</name>
</value>
                            </entry>
                            <entry>
<key>Maximum number of Bins</key>
<value>
    <name>Maximum number of Bins</name>
</value>
                            </entry>
                            <entry>
<key>Delimiter Strategy</key>
<value>
    <name>Delimiter Strategy</name>
</value>
                            </entry>
                            <entry>
<key>Header File</key>
<value>
    <name>Header File</name>
</value>
                            </entry>
                            <entry>
<key>Footer File</key>
<value>
    <name>Footer File</name>
</value>
                            </entry>
                            <entry>
<key>Demarcator File</key>
<value>
    <name>Demarcator File</name>
</value>
                            </entry>
                            <entry>
<key>Compression Level</key>
<value>
    <name>Compression Level</name>
</value>
                            </entry>
                            <entry>
<key>Keep Path</key>
<value>
    <name>Keep Path</name>
</value>
                            </entry>
                            <entry>
<key>Tar Modified Time</key>
<value>
    <name>Tar Modified Time</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Merge Strategy</key>
<value>Bin-Packing Algorithm</value>
                            </entry>
                            <entry>
<key>Merge Format</key>
<value>Binary Concatenation</value>
                            </entry>
                            <entry>
<key>Attribute Strategy</key>
<value>Keep Only Common Attributes</value>
                            </entry>
                            <entry>
<key>Correlation Attribute Name</key>
<value>submission_id</value>
                            </entry>
                            <entry>
<key>mergecontent-metadata-strategy</key>
<value>Do Not Merge Uncommon Metadata</value>
                            </entry>
                            <entry>
<key>Minimum Number of Entries</key>
<value>1</value>
                            </entry>
                            <entry>
<key>Maximum Number of Entries</key>
<value>1000</value>
                            </entry>
                            <entry>
<key>Minimum Group Size</key>
<value>0 B</value>
                            </entry>
                            <entry>
<key>Maximum Group Size</key>
                            </entry>
                            <entry>
<key>Max Bin Age</key>
                            </entry>
                            <entry>
<key>Maximum number of Bins</key>
<value>100000</value>
                            </entry>
                            <entry>
<key>Delimiter Strategy</key>
<value>Text</value>
                            </entry>
                            <entry>
<key>Header File</key>
                            </entry>
                            <entry>
<key>Footer File</key>
                            </entry>
                            <entry>
<key>Demarcator File</key>
<value>,</value>
                            </entry>
                            <entry>
<key>Compression Level</key>
<value>1</value>
                            </entry>
                            <entry>
<key>Keep Path</key>
<value>false</value>
                            </entry>
                            <entry>
<key>Tar Modified Time</key>
<value>${file.lastModifiedTime}</value>
                            </entry>
                        </properties>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Merge rows into a single submission</name>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>failure</name>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>merged</name>
                    </relationships>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>original</name>
                    </relationships>
                    <state>STOPPED</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.MergeContent</type>
                </processors>
                <processors>
                    <id>3360d449-cd9d-34a1-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <position>
                        <x>1125.120775715659</x>
                        <y>1070.4793024063106</y>
                    </position>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.9.2</version>
                    </bundle>
                    <config>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Regular Expression</key>
<value>
    <name>Regular Expression</name>
</value>
                            </entry>
                            <entry>
<key>Replacement Value</key>
<value>
    <name>Replacement Value</name>
</value>
                            </entry>
                            <entry>
<key>Character Set</key>
<value>
    <name>Character Set</name>
</value>
                            </entry>
                            <entry>
<key>Maximum Buffer Size</key>
<value>
    <name>Maximum Buffer Size</name>
</value>
                            </entry>
                            <entry>
<key>Replacement Strategy</key>
<value>
    <name>Replacement Strategy</name>
</value>
                            </entry>
                            <entry>
<key>Evaluation Mode</key>
<value>
    <name>Evaluation Mode</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Regular Expression</key>
<value></value>
                            </entry>
                            <entry>
<key>Replacement Value</key>
<value></value>
                            </entry>
                            <entry>
<key>Character Set</key>
<value>UTF-8</value>
                            </entry>
                            <entry>
<key>Maximum Buffer Size</key>
<value>1 MB</value>
                            </entry>
                            <entry>
<key>Replacement Strategy</key>
<value>Regex Replace</value>
                            </entry>
                            <entry>
<key>Evaluation Mode</key>
<value>Entire text</value>
                            </entry>
                        </properties>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Replace non-ASCII character </name>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>failure</name>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                    </relationships>
                    <state>STOPPED</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.ReplaceText</type>
                </processors>
                <processors>
                    <id>4ea656e1-b18c-3a60-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <position>
                        <x>1128.1479166174913</x>
                        <y>1256.0473163305155</y>
                    </position>
                    <bundle>
                        <artifact>nifi-scripting-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.9.2</version>
                    </bundle>
                    <config>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Script Engine</key>
<value>
    <name>Script Engine</name>
</value>
                            </entry>
                            <entry>
<key>Script File</key>
<value>
    <name>Script File</name>
</value>
                            </entry>
                            <entry>
<key>Script Body</key>
<value>
    <name>Script Body</name>
</value>
                            </entry>
                            <entry>
<key>Module Directory</key>
<value>
    <name>Module Directory</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Script Engine</key>
<value>python</value>
                            </entry>
                            <entry>
<key>Script File</key>
                            </entry>
                            <entry>
<key>Script Body</key>
<value>import json
import re
from datetime import datetime

jython_available = True

try:
    # This is used in the NiFi ExecuteScript context
    import java.io  # noqa
    from org.apache.commons.io import IOUtils
    from java.nio.charset import StandardCharsets
    from org.apache.nifi.processor.io import StreamCallback
except ImportError:
    jython_available = False
    print("Skipping Jython imports")

FINAL_LIST = []
# UNWANTED_CHARACTERS = "-(),.:;'[]?/\|{}?&gt;&lt;!@#$%^&amp;*+ "
# IGNORED_LIST = ["_notes", "_tags", "_attachments", "_geolocation"]

datetime_format_regex = re.compile(r'\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}')
datetimezone_format_regex =\
    re.compile(r'\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d+\W+\d{2}:*\d*')


def remove_special_characters(name):
    name = re.sub(r"[-\\\(\),\.:;'\[\]\?\/\|{}\?&gt;&lt;!@#\$%\^&amp;\*\+ ]", '_', name)
    return name


def underscore_to_slash(x): 
    return x.replace('_', '/')

def slash_to_underscore(x):
    return x.replace('/','_')


def replace_metadata_column_name(k, metadata_details):
    for key in METADATA_DETAILS_KEYS:
        if k == underscore_to_slash(metadata_details["%s_field_name" %key]):
            return key

def flatten_data(data):
    new_dict = {}
    new_list = []

    # metadata_column_names = map(lambda x: underscore_to_slash(x),
    #                             metadata_details.values())
    for k, v in data.items():
        # k = long_field_names.get(slash_to_underscore(k)) or k
        # if isinstance(v, list) and k not in IGNORED_LIST:
        if isinstance(v, list):
            new_list = new_list + v
        # elif k in metadata_column_names:
        #     metadata_type = replace_metadata_column_name(k, metadata_details)
        #     new_dict[metadata_type] = \
        #         reformat_timestamps(v) if isinstance(v, unicode) else v
        # elif k not in IGNORED_LIST:
        else:
            # k = slash_to_underscore(k)
            # k = remove_unwanted_characters(k).lower()
            new_dict[k] = \
                reformat_timestamps(v) if isinstance(v, unicode) else v

    if len(new_list) &gt; 0:
        for i in new_list:
            new_i = {}
            for key, value in i.iteritems():
                # key = slash_to_underscore(key)
                key = remove_special_characters(key).lower()
                new_i[key] = \
                    reformat_timestamps(value) if isinstance(value, unicode) else value
            new_i.update(new_dict)
            if len({k: v for k, v in new_i.iteritems() \
                if isinstance(v, list)}) &gt; 0:
                flatten_data(new_i)
            else:
                FINAL_LIST.append(new_i)
    else:
        FINAL_LIST.append(new_dict)
    return FINAL_LIST


def reformat_timestamps(value):
    formats = ('%d/%m/%Y', '%m/%d/%Y', '%Y/%m/%d')
    timestamps_pattern = re.compile(r'\d+\/\d+\/\d+[\d+\w+\s+:.]*')
    if timestamps_pattern.match(value):
        date_time_list = re.split('T|\s', value)
        date_value = date_time_list[0]
        time_value = ''
        if len(date_time_list) &gt; 1:
            if re.match('\d+:\d+:\d+.\d+', date_time_list[1]):
                time_value = date_time_list[1].split('+')[0]
            elif re.match('\d+:\d+:\d+', date_time_list[1]):
                time_value = date_time_list[1] + '.000'

        for format in formats:
            matched = get_date_format(date_value, format)
            if matched == False:
                get_date_format(date_value, format)
            else:
                new_date = datetime.strptime(date_value, format)
                formatted_data = new_date.strftime('%Y-%m-%d') + ' ' + time_value 
    elif datetimezone_format_regex.match(value):
        formatted_data = value.replace('T', ' ').split('+')[0]
    elif datetime_format_regex.match(value):
        formatted_data = value.replace('T', ' ').decode('utf8') + ".000"
    else:
        formatted_data = value
    return formatted_data

def get_date_format(date_value, format):
    correct_format = False
    try:
        datetime.strptime(date_value, format)
        correct_format = True
    except ValueError:
        correct_format = False
    
    return correct_format


if jython_available:

    class PyStreamCallback(StreamCallback):

        def __init__(self):
            pass

        def process(self, inputStream, outputStream):
            text = IOUtils.toString(inputStream, StandardCharsets.UTF_8)
            obj = json.loads(text)
            flattened_data = flatten_data(obj)

            outputStream.write(bytearray(json.dumps(
                flattened_data, indent=4).encode('utf-8')))

    # session is provided by the NiFi ExecuteScript context
    flowFile = session.get()  # noqa
    if flowFile is not None:
        # metadata_details = json.loads(flowFile.getAttribute(
        #     'metadata_details'))
        # long_field_names_map = json.loads(flowFile.getAttribute(
        #     'long_field_names_map'))

        flowFile = session.write(flowFile, PyStreamCallback())  # noqa
        # REL_SUCCESS is provided by the NiFi ExecuteScript context
        session.transfer(flowFile, REL_SUCCESS)  # noqa
</value>
                            </entry>
                            <entry>
<key>Module Directory</key>
                            </entry>
                        </properties>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Flatten JSON</name>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>failure</name>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                    </relationships>
                    <state>STOPPED</state>
                    <style/>
                    <type>org.apache.nifi.processors.script.ExecuteScript</type>
                </processors>
                <processors>
                    <id>52b5811c-9027-390d-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <position>
                        <x>1125.9596013728305</x>
                        <y>1453.3915424777874</y>
                    </position>
                    <bundle>
                        <artifact>nifi-scripting-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.9.2</version>
                    </bundle>
                    <config>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Script Engine</key>
<value>
    <name>Script Engine</name>
</value>
                            </entry>
                            <entry>
<key>Script File</key>
<value>
    <name>Script File</name>
</value>
                            </entry>
                            <entry>
<key>Script Body</key>
<value>
    <name>Script Body</name>
</value>
                            </entry>
                            <entry>
<key>Module Directory</key>
<value>
    <name>Module Directory</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Script Engine</key>
<value>python</value>
                            </entry>
                            <entry>
<key>Script File</key>
                            </entry>
                            <entry>
<key>Script Body</key>
<value>import json

jython_available = True

try:
    # This is used in the NiFi ExecuteScript context
    import java.io  # noqa
    from org.apache.commons.io import IOUtils
    from java.nio.charset import StandardCharsets
    from org.apache.nifi.processor.io import StreamCallback
except ImportError:
    jython_available = False
    print("Skipping Jython imports")


def format_geotypes(data, geopoints):
    if any(geopoints):
        geopoints_set_intersection = set(data) &amp; set(geopoints)
        for e in geopoints_set_intersection:
            data["_{}_latitude".format(e)] = data[e].split()[0]
            data["_{}_longitude".format(e)] = data[e].split()[1]
            data["_{}_altitude".format(e)] = float(data[e].split(" ")[2])
            data["_{}_accuracy".format(e)] = float(data[e].split(" ")[3])
            del data[e]
    return data


if jython_available:

    class PyStreamCallback(StreamCallback):
        def __init__(self):
            pass

        def process(self, inputStream, outputStream):
            text = IOUtils.toString(inputStream, StandardCharsets.UTF_8)
            obj = json.loads(text)

            data = format_geotypes(obj, GEOPOINTS)
            outputStream.write(
                bytearray(json.dumps(data, indent=4).encode('utf-8')))

    # session is provided by the NiFi ExecuteScript context
    flowFile = session.get()  # noqa
    if flowFile is not None:
        GEOPOINTS = json.loads(flowFile.getAttribute('geopoints'))

        flowFile = session.write(flowFile, PyStreamCallback())  # noqa
        # REL_SUCCESS is provided by the NiFi ExecuteScript context
        session.transfer(flowFile, REL_SUCCESS)  # noqa</value>
                            </entry>
                            <entry>
<key>Module Directory</key>
                            </entry>
                        </properties>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Format Geotypes</name>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>failure</name>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                    </relationships>
                    <state>STOPPED</state>
                    <style/>
                    <type>org.apache.nifi.processors.script.ExecuteScript</type>
                </processors>
                <processors>
                    <id>583f3a67-5808-3005-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <position>
                        <x>1131.485525619837</x>
                        <y>182.04085540517485</y>
                    </position>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.9.2</version>
                    </bundle>
                    <config>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Routing Strategy</key>
<value>
    <name>Routing Strategy</name>
</value>
                            </entry>
                            <entry>
<key>form_uuid</key>
<value>
    <name>form_uuid</name>
</value>
                            </entry>
                            <entry>
<key>json_feed</key>
<value>
    <name>json_feed</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Routing Strategy</key>
<value>Route to Property name</value>
                            </entry>
                            <entry>
<key>form_uuid</key>
<value>${form_uuid:notNull()}</value>
                            </entry>
                            <entry>
<key>json_feed</key>
<value>${json_feed:notNull()}</value>
                            </entry>
                        </properties>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Route on if it's a JSON feed or not</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>form_uuid</name>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>json_feed</name>
                    </relationships>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>unmatched</name>
                    </relationships>
                    <state>STOPPED</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                </processors>
                <processors>
                    <id>724c96e4-0a35-3487-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <position>
                        <x>1124.6280890625226</x>
                        <y>1656.4027185440063</y>
                    </position>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.9.2</version>
                    </bundle>
                    <config>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>JDBC Connection Pool</key>
<value>
    <identifiesControllerService>org.apache.nifi.dbcp.DBCPService</identifiesControllerService>
    <name>JDBC Connection Pool</name>
</value>
                            </entry>
                            <entry>
<key>putsql-sql-statement</key>
<value>
    <name>putsql-sql-statement</name>
</value>
                            </entry>
                            <entry>
<key>Support Fragmented Transactions</key>
<value>
    <name>Support Fragmented Transactions</name>
</value>
                            </entry>
                            <entry>
<key>database-session-autocommit</key>
<value>
    <name>database-session-autocommit</name>
</value>
                            </entry>
                            <entry>
<key>Transaction Timeout</key>
<value>
    <name>Transaction Timeout</name>
</value>
                            </entry>
                            <entry>
<key>Batch Size</key>
<value>
    <name>Batch Size</name>
</value>
                            </entry>
                            <entry>
<key>Obtain Generated Keys</key>
<value>
    <name>Obtain Generated Keys</name>
</value>
                            </entry>
                            <entry>
<key>rollback-on-failure</key>
<value>
    <name>rollback-on-failure</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>JDBC Connection Pool</key>
<value>6df3e2ab-8155-3eb9-0000-000000000000</value>
                            </entry>
                            <entry>
<key>putsql-sql-statement</key>
                            </entry>
                            <entry>
<key>Support Fragmented Transactions</key>
<value>true</value>
                            </entry>
                            <entry>
<key>database-session-autocommit</key>
<value>false</value>
                            </entry>
                            <entry>
<key>Transaction Timeout</key>
                            </entry>
                            <entry>
<key>Batch Size</key>
<value>100</value>
                            </entry>
                            <entry>
<key>Obtain Generated Keys</key>
<value>false</value>
                            </entry>
                            <entry>
<key>rollback-on-failure</key>
<value>false</value>
                            </entry>
                        </properties>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Insert into table</name>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>failure</name>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>retry</name>
                    </relationships>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>success</name>
                    </relationships>
                    <state>STOPPED</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.PutSQL</type>
                </processors>
                <processors>
                    <id>7d9af1e4-99dd-31f0-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <position>
                        <x>484.877230755637</x>
                        <y>841.5283792495725</y>
                    </position>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.9.2</version>
                    </bundle>
                    <config>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Routing Strategy</key>
<value>
    <name>Routing Strategy</name>
</value>
                            </entry>
                            <entry>
<key>batch_pull</key>
<value>
    <name>batch_pull</name>
</value>
                            </entry>
                            <entry>
<key>new_submissions</key>
<value>
    <name>new_submissions</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Routing Strategy</key>
<value>Route to Property name</value>
                            </entry>
                            <entry>
<key>batch_pull</key>
<value>${max_submission_time:isNull()}</value>
                            </entry>
                            <entry>
<key>new_submissions</key>
<value>${max_submission_time:toDate('yyyy-MM-dd HH:mm:ss.S'):toNumber():lt(${submission_time:replace('T', ' '):substringBefore('+'):toDate('yyyy-MM-dd HH:mm:ss'):toNumber()})}</value>
                            </entry>
                        </properties>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Filter new submissions</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>batch_pull</name>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>new_submissions</name>
                    </relationships>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>unmatched</name>
                    </relationships>
                    <state>STOPPED</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                </processors>
                <processors>
                    <id>b26ddbfc-0ac1-3fdb-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <position>
                        <x>493.2674887328586</x>
                        <y>1453.1978503054584</y>
                    </position>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.9.2</version>
                    </bundle>
                    <config>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>JsonPath Expression</key>
<value>
    <name>JsonPath Expression</name>
</value>
                            </entry>
                            <entry>
<key>Null Value Representation</key>
<value>
    <name>Null Value Representation</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>JsonPath Expression</key>
<value>$.*</value>
                            </entry>
                            <entry>
<key>Null Value Representation</key>
<value>empty string</value>
                            </entry>
                        </properties>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Split submissions</name>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>failure</name>
                    </relationships>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>original</name>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>split</name>
                    </relationships>
                    <state>STOPPED</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.SplitJson</type>
                </processors>
                <processors>
                    <id>c60afea7-1391-3763-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <position>
                        <x>490.8298255127178</x>
                        <y>1657.7514123916626</y>
                    </position>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.9.2</version>
                    </bundle>
                    <config>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>JDBC Connection Pool</key>
<value>
    <identifiesControllerService>org.apache.nifi.dbcp.DBCPService</identifiesControllerService>
    <name>JDBC Connection Pool</name>
</value>
                            </entry>
                            <entry>
<key>Statement Type</key>
<value>
    <name>Statement Type</name>
</value>
                            </entry>
                            <entry>
<key>Table Name</key>
<value>
    <name>Table Name</name>
</value>
                            </entry>
                            <entry>
<key>Catalog Name</key>
<value>
    <name>Catalog Name</name>
</value>
                            </entry>
                            <entry>
<key>Schema Name</key>
<value>
    <name>Schema Name</name>
</value>
                            </entry>
                            <entry>
<key>Translate Field Names</key>
<value>
    <name>Translate Field Names</name>
</value>
                            </entry>
                            <entry>
<key>Unmatched Field Behavior</key>
<value>
    <name>Unmatched Field Behavior</name>
</value>
                            </entry>
                            <entry>
<key>Unmatched Column Behavior</key>
<value>
    <name>Unmatched Column Behavior</name>
</value>
                            </entry>
                            <entry>
<key>Update Keys</key>
<value>
    <name>Update Keys</name>
</value>
                            </entry>
                            <entry>
<key>jts-quoted-identifiers</key>
<value>
    <name>jts-quoted-identifiers</name>
</value>
                            </entry>
                            <entry>
<key>jts-quoted-table-identifiers</key>
<value>
    <name>jts-quoted-table-identifiers</name>
</value>
                            </entry>
                            <entry>
<key>jts-sql-param-attr-prefix</key>
<value>
    <name>jts-sql-param-attr-prefix</name>
</value>
                            </entry>
                            <entry>
<key>table-schema-cache-size</key>
<value>
    <name>table-schema-cache-size</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>JDBC Connection Pool</key>
<value>6df3e2ab-8155-3eb9-0000-000000000000</value>
                            </entry>
                            <entry>
<key>Statement Type</key>
<value>INSERT</value>
                            </entry>
                            <entry>
<key>Table Name</key>
<value>${table_name}</value>
                            </entry>
                            <entry>
<key>Catalog Name</key>
                            </entry>
                            <entry>
<key>Schema Name</key>
                            </entry>
                            <entry>
<key>Translate Field Names</key>
<value>true</value>
                            </entry>
                            <entry>
<key>Unmatched Field Behavior</key>
<value>Ignore Unmatched Fields</value>
                            </entry>
                            <entry>
<key>Unmatched Column Behavior</key>
<value>Fail on Unmatched Columns</value>
                            </entry>
                            <entry>
<key>Update Keys</key>
                            </entry>
                            <entry>
<key>jts-quoted-identifiers</key>
<value>false</value>
                            </entry>
                            <entry>
<key>jts-quoted-table-identifiers</key>
<value>false</value>
                            </entry>
                            <entry>
<key>jts-sql-param-attr-prefix</key>
<value>sql</value>
                            </entry>
                            <entry>
<key>table-schema-cache-size</key>
<value>0</value>
                            </entry>
                        </properties>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>ConvertJSONToSQL</name>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>failure</name>
                    </relationships>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>original</name>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>sql</name>
                    </relationships>
                    <state>STOPPED</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.ConvertJSONToSQL</type>
                </processors>
                <processors>
                    <id>edfcb762-9b0f-3294-0000-000000000000</id>
                    <parentGroupId>4c57f893-8050-34bd-0000-000000000000</parentGroupId>
                    <position>
                        <x>1126.0850432556385</x>
                        <y>648.1820665359501</y>
                    </position>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.9.2</version>
                    </bundle>
                    <config>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Destination</key>
<value>
    <name>Destination</name>
</value>
                            </entry>
                            <entry>
<key>Return Type</key>
<value>
    <name>Return Type</name>
</value>
                            </entry>
                            <entry>
<key>Path Not Found Behavior</key>
<value>
    <name>Path Not Found Behavior</name>
</value>
                            </entry>
                            <entry>
<key>Null Value Representation</key>
<value>
    <name>Null Value Representation</name>
</value>
                            </entry>
                            <entry>
<key>row_id</key>
<value>
    <name>row_id</name>
</value>
                            </entry>
                            <entry>
<key>submission_id</key>
<value>
    <name>submission_id</name>
</value>
                            </entry>
                            <entry>
<key>submission_time</key>
<value>
    <name>submission_time</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Destination</key>
<value>flowfile-attribute</value>
                            </entry>
                            <entry>
<key>Return Type</key>
<value>auto-detect</value>
                            </entry>
                            <entry>
<key>Path Not Found Behavior</key>
<value>ignore</value>
                            </entry>
                            <entry>
<key>Null Value Representation</key>
<value>empty string</value>
                            </entry>
                            <entry>
<key>row_id</key>
<value>$.[1]</value>
                            </entry>
                            <entry>
<key>submission_id</key>
<value>$.[3]</value>
                            </entry>
                            <entry>
<key>submission_time</key>
<value>$.[0]</value>
                            </entry>
                        </properties>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Set row metadata as attributes</name>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>failure</name>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>matched</name>
                    </relationships>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>unmatched</name>
                    </relationships>
                    <state>STOPPED</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.EvaluateJsonPath</type>
                </processors>
            </contents>
            <name>Flow Results Package Connector</name>
            <variables/>
        </processGroups>
    </snippet>
    <timestamp>07/11/2019 13:23:19 UTC</timestamp>
</template>
